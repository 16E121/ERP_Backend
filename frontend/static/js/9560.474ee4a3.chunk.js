"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9560],{13724:(e,t,r)=>{r.d(t,{c:()=>b});var l=r(69060),a=r(27454),n=r(700),i=r(5548),o=r(99904),s=r(85624),d=r(33856),c=r(58612),u=r(53248),m=r(29504),v=r(5930),p=r(39308),x=r(41459),h=r(46864),C=r(82496);const g=e=>{let{dataArray:t=[],columns:r=[],onClickFun:g=null,isExpendable:b=!1,expandableComp:j=null,tableMaxHeight:N=550,initialPageCount:f=20,EnableSerialNumber:D=!1,CellSize:S="small",disablePagination:y=!1,title:F=""}=e;const[w,E]=(0,l.useState)(0),[R,I]=(0,l.useState)(f),[P,O]=(0,l.useState)([]),A=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],_=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],k=(e=>{if(!P.length)return e;return[...e].sort(((e,t)=>{for(const r of P){const{columnId:l,direction:a}=r,n=e[l],i=t[l];if(n!==i)return"asc"===a?n>i?1:-1:n<i?1:-1}return 0}))})(t),M=w*R,T=M+R,H=k.slice(M,T),V=(e,t)=>{switch(t){case"number":return(0,p.SA)(e);case"date":return(0,p.uy)(e);case"time":return(0,p.AX)(e);case"string":return e;default:return""}},L=e=>{let{row:t,index:o}=e;const[s,d]=(0,l.useState)(!1),c="20px";return(0,C.jsxs)(l.Fragment,{children:[(0,C.jsxs)(a.c,{children:[!0===b&&j&&(0,C.jsx)(n.c,{className:"fa-13 border-end text-center vtop",children:(0,C.jsx)(i.c,{size:"small",onClick:()=>d((e=>!e)),children:s?(0,C.jsx)(x.c,{sx:{fontSize:c}}):(0,C.jsx)(h.c,{sx:{fontSize:c}})})}),!0===D&&(0,C.jsx)(n.c,{className:"fa-13 border-end text-center vtop",children:R*w+o+1}),null===r||void 0===r?void 0:r.map(((e,r)=>{var l,a;return((0,p.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,p.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&(!1!==Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell?(0,C.jsx)(n.c,{className:"fa-13 border-end "+(e.align?null===(l=A.find((t=>t.type===String(e.align).toLowerCase())))||void 0===l?void 0:l.class:"")+(e.verticalAlign?null===(a=_.find((t=>t.type===String(e.verticalAlign).toLowerCase())))||void 0===a?void 0:a.class:" vctr "),children:e.Cell({row:t,Field_Name:e.Field_Name})},r):Object.entries(t).map((l=>{var a,i;let[o,s]=l;return e.Field_Name===o&&((0,p.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,p.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&(0,C.jsx)(n.c,{className:"fa-13 border-end "+(e.align?null===(a=A.find((t=>t.type===String(e.align).toLowerCase())))||void 0===a?void 0:a.class:"")+(e.verticalAlign?null===(i=_.find((t=>t.type===String(e.verticalAlign).toLowerCase())))||void 0===i?void 0:i.class:" vctr "),onClick:()=>g?g(t):console.log("Function not supplied"),children:V(s,null===e||void 0===e?void 0:e.Fied_Data)},r)})))}))]}),!0===b&&j&&s&&(0,C.jsx)(a.c,{children:(0,C.jsx)(n.c,{colSpan:Number(null===r||void 0===r?void 0:r.length)+(!0===D?2:1),children:j({row:t,index:o})})})]})};return(0,C.jsxs)("div",{children:[F&&(0,C.jsx)("h6",{className:"fw-bold text-muted",children:F}),(0,C.jsx)(o.c,{component:s.c,sx:{maxHeight:N},children:(0,C.jsxs)(d.c,{stickyHeader:!0,size:S,children:[(0,C.jsx)(c.c,{children:(0,C.jsxs)(a.c,{children:[b&&j&&(0,C.jsx)(n.c,{className:"fa-13 fw-bold border-end border-top text-center",style:{backgroundColor:"#EDF0F7"},children:"#"}),D&&(0,C.jsx)(n.c,{className:"fa-13 fw-bold border-end border-top text-center",style:{backgroundColor:"#EDF0F7"},children:"SNo"}),r.map(((e,t)=>{const r=(0,p.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,p.Qr)(null===e||void 0===e?void 0:e.isVisible,1),l=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,a=P.find((t=>t.columnId===e.Field_Name)),i=a?a.direction:"asc";var o,s,d,c;return r?l?(0,C.jsx)(n.c,{className:"fa-13 fw-bold border-end border-top "+(e.align?null===(o=A.find((t=>t.type===String(e.align).toLowerCase())))||void 0===o?void 0:o.class:""),style:{backgroundColor:"#EDF0F7"},sortDirection:!!a&&i,children:(0,C.jsx)(u.c,{active:!!a,direction:i,onClick:()=>(e=>{const t=P.find((t=>t.columnId===e));if(t){const r="asc"===t.direction;O(P.map((t=>t.columnId===e?{...t,direction:r?"desc":"asc"}:t)))}else O([...P,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(s=e.Field_Name)||void 0===s?void 0:s.replace(/_/g," "))})},t):(0,C.jsx)(n.c,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fa-13 fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(d=A.find((t=>t.type===String(e.align).toLowerCase())))||void 0===d?void 0:d.class:""),style:{backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},t):null}))]})}),(0,C.jsxs)(m.c,{children:[(y?k:H).map(((e,t)=>(0,C.jsx)(L,{row:e,index:t},t))),0===t.length&&(0,C.jsx)(a.c,{children:(0,C.jsx)(n.c,{colSpan:r.length+(!0===b&&j?1:0)+(!0===D?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!y&&0!==H.length&&(0,C.jsx)("div",{className:"p-2 pb-0",children:(0,C.jsx)(v.c,{component:"div",count:t.length,page:w,onPageChange:(e,t)=>{E(t)},rowsPerPage:R,onRowsPerPageChange:e=>{I(parseInt(e.target.value,10)),E(0)},rowsPerPageOptions:Array.from(new Set([f,5,20,50,100,200,500])).sort(((e,t)=>e-t)),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};g.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0};const b=g},79560:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var l=r(69060),a=r(13724),n=r(1908),i=r(39308),o=r(43692),s=r(5548),d=r(89e3),c=r(84436),u=r(82656),m=r(26773),v=r(4488),p=r(90048),x=r(51560),h=r(61988);const C=e=>{let{data:t=[],status:r="ITEMS"}=e;return"ITEMS"===r?null===t||void 0===t?void 0:t.reduce(((e,t)=>{if(!Array.isArray(null===t||void 0===t?void 0:t.ItemDetails))return e;const r=t.ItemDetails.map((e=>{var r,l;return{...e,OrderDetails:{BrokerName:t.BrokerName,CreatedBy:t.CreatedBy,CreatedAt:t.CreatedAt,DeliveryDetails:null!==(r=t.DeliveryDetails)&&void 0!==r?r:[],LoadingDate:t.LoadingDate,OwnerName:t.OwnerName,PartyAddress:t.PartyAddress,PartyName:t.PartyName,PaymentCondition:t.PaymentCondition,Remarks:t.Remarks,TradeConfirmDate:t.TradeConfirmDate,TranspoterDetails:null!==(l=t.TranspoterDetails)&&void 0!==l?l:[]}}}));return e.concat(r)}),[]):[]};var g=r(82496);const b=e=>{let{loadingOn:t,loadingOff:r}=e;const[b,j]=(0,l.useState)([]),N=(0,x.i6)(),[f,D]=(0,l.useState)({Fromdate:(0,i.SO)(10),Todate:(0,i.Q7)(),FilterDialog:!1,OrderStatus:"ITEMS"});return(0,l.useEffect)((()=>{(0,n.q)({address:"dataEntry/purchaseOrderEntry?Fromdate=".concat(null===f||void 0===f?void 0:f.Fromdate,"&Todate=").concat(null===f||void 0===f?void 0:f.Todate)}).then((e=>{e.success&&j(e.data)})).catch((e=>console.error(e)))}),[f.Fromdate,f.Todate]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(o.c,{children:[(0,g.jsxs)("div",{className:"p-2 d-flex flex-wrap align-items-center",children:[(0,g.jsx)("h5",{className:"m-0 flex-grow-1",children:"Purchase Order"}),(0,g.jsx)(s.c,{size:"small",className:"me-2",onClick:()=>D((e=>({...e,FilterDialog:!0}))),children:(0,g.jsx)(h.c,{})}),(0,g.jsx)(d.c,{variant:"outlined",onClick:()=>N("create"),children:"Add"})]}),(0,g.jsx)(c.c,{children:(0,g.jsx)(a.c,{dataArray:C({data:b,status:f.OrderStatus}),columns:[{isVisible:1,Field_Name:"OrderId",Fied_Data:"string",ColumnHeader:"Order Id"},{isVisible:1,Field_Name:"ItemName",Fied_Data:"string",ColumnHeader:"Item"},{isVisible:1,isCustomCell:!0,ColumnHeader:"Date",Cell:e=>{var t;let{row:r}=e;return(0,i.uy)(null===r||void 0===r||null===(t=r.ItemDetails)||void 0===t?void 0:t.LoadingDate)}},{isVisible:1,ColumnHeader:"Weight",isCustomCell:!0,Cell:e=>{var t;let{row:r}=e;return(null!==(t=null===r||void 0===r?void 0:r.Weight)&&void 0!==t?t:0)+" "+(null===r||void 0===r?void 0:r.Units)}},{isVisible:1,Field_Name:"Rate",Fied_Data:"number"},{isVisible:1,Field_Name:"QualityCondition",Fied_Data:"string",ColumnHeader:"Condition"},{isVisible:1,ColumnHeader:"Party",isCustomCell:!0,Cell:e=>{var t;let{row:r}=e;return null===r||void 0===r||null===(t=r.OrderDetails)||void 0===t?void 0:t.PartyName}}],tableMaxHeight:750,EnableSerialNumber:!0})})]}),(0,g.jsxs)(u.c,{open:f.FilterDialog,onClose:()=>D((e=>({...e,FilterDialog:!1}))),maxWidth:"sm",fullWidth:!0,children:[(0,g.jsx)(m.c,{children:"Filters"}),(0,g.jsx)(v.c,{children:(0,g.jsx)("table",{className:"table m-0 border-0",children:(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border-0 vctr",children:"Fromdate"}),(0,g.jsx)("td",{className:"border-0 vctr",children:(0,g.jsx)("input",{type:"date",onChange:e=>D((t=>({...t,Fromdate:e.target.value}))),value:f.Fromdate,className:"cus-inpt p-2"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border-0 vctr",children:"Todate"}),(0,g.jsx)("td",{className:"border-0 vctr",children:(0,g.jsx)("input",{type:"date",onChange:e=>D((t=>({...t,Todate:e.target.value}))),value:f.Todate,className:"cus-inpt p-2"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border-0 vctr",children:"Order Status"}),(0,g.jsx)("td",{className:"border-0 vctr",children:(0,g.jsxs)("select",{className:"cus-inpt p-2",value:f.OrderStatus,onChange:e=>D((t=>({...t,OrderStatus:e.target.value}))),children:[(0,g.jsx)("option",{value:"ITEMS",children:"ITEMS"}),(0,g.jsx)("option",{value:"ITEMS PENDING",children:"ITEMS - PENDING"}),(0,g.jsx)("option",{value:"ITEMS ARRIVED",children:"ITEMS - ARRIVED"}),(0,g.jsx)("option",{value:"ORDERS",children:"ORDERS"}),(0,g.jsx)("option",{value:"ORDERS PENDING",children:"ORDERS - PENDING"}),(0,g.jsx)("option",{value:"ORDERS ARRIVED",children:"ORDERS - ARRIVED"})]})})]})]})})}),(0,g.jsx)(p.c,{children:(0,g.jsx)(d.c,{onClick:()=>D((e=>({...e,FilterDialog:!1}))),variant:"outlined",children:"Close"})})]})]})}},61988:(e,t,r)=>{r.d(t,{c:()=>n});var l=r(27664),a=r(82496);const n=(0,l.c)((0,a.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},84436:(e,t,r)=>{r.d(t,{c:()=>h});var l=r(45072),a=r(95656),n=r(69060),i=r(79736),o=r(21412),s=r(12556),d=r(49836),c=r(10099),u=r(33448);function m(e){return(0,u.cp)("MuiCardContent",e)}(0,c.c)("MuiCardContent",["root"]);var v=r(82496);const p=["className","component"],x=(0,s.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),h=n.forwardRef((function(e,t){const r=(0,d.C)({props:e,name:"MuiCardContent"}),{className:n,component:s="div"}=r,c=(0,a.c)(r,p),u=(0,l.c)({},r,{component:s}),h=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},m,t)})(u);return(0,v.jsx)(x,(0,l.c)({as:s,className:(0,i.c)(h.root,n),ownerState:u,ref:t},c))}))},43692:(e,t,r)=>{r.d(t,{c:()=>C});var l=r(45072),a=r(95656),n=r(69060),i=r(79736),o=r(21412),s=r(12556),d=r(49836),c=r(85624),u=r(10099),m=r(33448);function v(e){return(0,m.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var p=r(82496);const x=["className","raised"],h=(0,s.cp)(c.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),C=n.forwardRef((function(e,t){const r=(0,d.C)({props:e,name:"MuiCard"}),{className:n,raised:s=!1}=r,c=(0,a.c)(r,x),u=(0,l.c)({},r,{raised:s}),m=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},v,t)})(u);return(0,p.jsx)(h,(0,l.c)({className:(0,i.c)(m.root,n),elevation:s?8:void 0,ref:t,ownerState:u},c))}))}}]);
//# sourceMappingURL=9560.474ee4a3.chunk.js.map