"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8272],{98272:(e,s,i)=>{i.r(s),i.d(s,{default:()=>_});var t=i(69060),n=i(82656),c=i(4488),d=i(90048),a=i(89e3),l=i(27454),o=i(700),r=i(52924),h=i(5548),g=i(99904),x=i(85624),u=i(33856),j=i(58612),S=i(29504),R=i(56416),m=i(56480),v=(i(21680),i(30612)),p=i(62344),f=i(77536),b=i(1908),C=i(82496);const k=(e,s,i,t,n)=>{t&&t(),(0,b.q)({address:"authorization/userTypeRights",method:"POST",bodyData:{MenuId:s,UserType:Number(i),ReadRights:!0===e.readRights?1:0,AddRights:!0===e.addRights?1:0,EditRights:!0===e.editRights?1:0,DeleteRights:!0===e.deleteRights?1:0,PrintRights:!0===e.printRights?1:0}}).then((e=>{e.success||m.m4.error(e.message)})).catch((e=>console.error(e))).finally((()=>{n&&n()}))},y=e=>{let{UserTypeId:s,data:i,loadingOn:m,loadingOff:v}=e;const[f,b]=(0,t.useState)(!1),[y,M]=(0,t.useState)(1===i.Read_Rights),[_,w]=(0,t.useState)(1===i.Add_Rights),[z,O]=(0,t.useState)(1===i.Edit_Rights),[T,E]=(0,t.useState)(1===i.Delete_Rights),[U,A]=(0,t.useState)(1===i.Print_Rights),[H,D]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{M(1===i.Read_Rights),w(1===i.Add_Rights),O(1===i.Edit_Rights),E(1===i.Delete_Rights),A(1===i.Print_Rights),D(!1)}),[i]),(0,t.useEffect)((()=>{!0===H&&k({readRights:y,addRights:_,editRights:z,deleteRights:T,printRights:U},i.id,s,m,v)}),[y,_,z,T,U]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(l.c,{hover:!0,children:[(0,C.jsx)(o.c,{children:i.id}),(0,C.jsx)(o.c,{children:i.name}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:y,onChange:()=>{D(!0),M(!y)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:_,onChange:()=>{D(!0),w(!_)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:z,onChange:()=>{D(!0),O(!z)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:T,onChange:()=>{D(!0),E(!T)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:U,onChange:()=>{D(!0),A(!U)}})}),(0,C.jsx)(o.c,{children:i.SubMenu.length>0&&(0,C.jsx)(h.c,{"aria-label":"expand row",size:"small",onClick:()=>b(!f),children:(0,C.jsx)(R.c,{})})})]}),(0,C.jsxs)(n.c,{open:f,onClose:()=>b(!f),maxWidth:"lg",fullWidth:!0,children:[(0,C.jsxs)(c.c,{children:[(0,C.jsx)("h3",{style:{paddingBottom:"0.5em"},children:"Sub Menu"}),(0,C.jsx)(g.c,{component:x.c,sx:{maxHeight:650},children:(0,C.jsxs)(u.c,{stickyHeader:!0,"aria-label":"simple table",children:[(0,C.jsx)(j.c,{children:(0,C.jsx)(l.c,{children:p.o$.map((e=>(0,C.jsx)(o.c,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:e.headname},e.id)))})}),(0,C.jsx)(S.c,{children:i.SubMenu.map(((e,i)=>(0,C.jsx)(I,{data:e,UserTypeId:s,loadingOff:v,loadingOn:m},i)))})]})})]}),(0,C.jsx)(d.c,{children:(0,C.jsx)(a.c,{onClick:()=>b(!f),color:"primary",children:"Close"})})]})]})},I=e=>{var s;let{data:i,UserTypeId:m,loadingOn:v,loadingOff:f}=e;const[b,y]=(0,t.useState)(!1),[I,_]=(0,t.useState)(1===i.Read_Rights),[w,z]=(0,t.useState)(1===i.Add_Rights),[O,T]=(0,t.useState)(1===i.Edit_Rights),[E,U]=(0,t.useState)(1===i.Delete_Rights),[A,H]=(0,t.useState)(1===i.Print_Rights),[D,P]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{_(1===i.Read_Rights),z(1===i.Add_Rights),T(1===i.Edit_Rights),U(1===i.Delete_Rights),H(1===i.Print_Rights),P(!1)}),[i]),(0,t.useEffect)((()=>{!0===D&&k({readRights:I,addRights:w,editRights:O,deleteRights:E,printRights:A},i.id,m,v,f)}),[I,w,O,E,A]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(l.c,{hover:!0,children:[(0,C.jsx)(o.c,{children:i.id}),(0,C.jsx)(o.c,{children:i.name}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:I,onChange:()=>{P(!0),_(!I)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:w,onChange:()=>{P(!0),z(!w)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:O,onChange:()=>{P(!0),T(!O)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:E,onChange:()=>{P(!0),U(!E)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:A,onChange:()=>{P(!0),H(!A)}})}),(0,C.jsx)(o.c,{children:i.ChildMenu.length>0&&(0,C.jsx)(h.c,{"aria-label":"expand row",size:"small",onClick:()=>y(!b),children:(0,C.jsx)(R.c,{})})})]}),(0,C.jsxs)(n.c,{open:b,onClose:()=>y(!b),maxWidth:"lg",fullWidth:!0,children:[(0,C.jsxs)(c.c,{children:[(0,C.jsx)("h3",{style:{paddingBottom:"0.5em"},children:"Child Menu"}),(0,C.jsx)(g.c,{component:x.c,sx:{maxHeight:650},children:(0,C.jsxs)(u.c,{stickyHeader:!0,"aria-label":"simple table",children:[(0,C.jsx)(j.c,{children:(0,C.jsx)(l.c,{children:p.o$.map((e=>(0,C.jsx)(o.c,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:e.headname},e.id)))})}),(0,C.jsx)(S.c,{children:null===i||void 0===i||null===(s=i.ChildMenu)||void 0===s?void 0:s.map(((e,s)=>(0,C.jsx)(M,{data:e,UserTypeId:m,loadingOff:f,loadingOn:v},s)))})]})})]}),(0,C.jsx)(d.c,{children:(0,C.jsx)(a.c,{onClick:()=>y(!b),color:"primary",children:"Close"})})]})]})},M=e=>{const{data:s,UserTypeId:i,loadingOn:n,loadingOff:c}=e,[d,a]=(0,t.useState)(1===s.Read_Rights),[h,g]=(0,t.useState)(1===s.Add_Rights),[x,u]=(0,t.useState)(1===s.Edit_Rights),[j,S]=(0,t.useState)(1===s.Delete_Rights),[R,m]=(0,t.useState)(1===s.Print_Rights),[v,p]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{!0===v&&k({readRights:d,addRights:h,editRights:x,deleteRights:j,printRights:R},s.id,i,n,c)}),[d,h,x,j,R]),(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(l.c,{hover:!0,children:[(0,C.jsx)(o.c,{children:s.id}),(0,C.jsx)(o.c,{children:s.name}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:d,onChange:()=>{p(!0),a(!d)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:h,onChange:()=>{p(!0),g(!h)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:x,onChange:()=>{p(!0),u(!x)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:j,onChange:()=>{p(!0),S(!j)}})}),(0,C.jsx)(o.c,{children:(0,C.jsx)(r.c,{sx:{"& .MuiSvgIcon-root":{fontSize:28}},checked:R,onChange:()=>{p(!0),m(!R)}})}),(0,C.jsx)(o.c,{})]})})},_=e=>{let{loadingOn:s,loadingOff:i}=e;const n=localStorage.getItem("user"),c=JSON.parse(n),[d,a]=(0,t.useState)([]),[r,h]=(0,t.useState)([]),[R,k]=(0,t.useState)([]),{contextObj:I}=(0,t.useContext)(f.a),[_,w]=(0,t.useState)({value:null===c||void 0===c?void 0:c.UserTypeId,label:null===c||void 0===c?void 0:c.UserType});return(0,t.useEffect)((()=>{(0,b.q)({address:"authorization/userTypeRights?UserType=".concat(null===_||void 0===_?void 0:_.value)}).then((e=>{var s,i;e.success&&(a(null===e||void 0===e?void 0:e.data),h(null!==(s=null===e||void 0===e||null===(i=e.others)||void 0===i?void 0:i.subRoutings)&&void 0!==s?s:[]))})).catch((e=>console.error(e)))}),[_]),(0,t.useEffect)((()=>{(0,b.q)({address:"masters/userType"}).then((e=>{e.success&&k(e.data)})).catch((e=>console.error(e)))}),[]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.jd,{}),(0,C.jsx)("div",{className:"row",children:(0,C.jsx)("div",{className:"col-sm-4 pt-1",children:(0,C.jsx)(v.cp,{value:_,onChange:e=>w({value:e.value,label:e.label}),options:[...R.map((e=>({value:null===e||void 0===e?void 0:e.Id,label:null===e||void 0===e?void 0:e.UserType})))],styles:p.cF,isSearchable:!0,placeholder:"Select UserType"})})}),(0,C.jsx)("br",{}),(0,C.jsx)("h6",{style:{marginBottom:"0.5em",borderBottom:"2px solid blue",width:"fit-content"},children:"Main Menu"}),(0,C.jsx)(g.c,{component:x.c,sx:{maxHeight:650},children:(0,C.jsxs)(u.c,{stickyHeader:!0,"aria-label":"simple table",children:[(0,C.jsx)(j.c,{children:(0,C.jsx)(l.c,{children:p.o$.map((e=>(0,C.jsx)(o.c,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:e.headname},e.id)))})}),(0,C.jsx)(S.c,{children:null===d||void 0===d?void 0:d.map(((e,t)=>(0,C.jsx)(y,{data:e,UserTypeId:_.value,loadingOff:i,loadingOn:s},t)))})]})}),(0,C.jsx)("br",{}),(0,C.jsx)("h6",{style:{marginBottom:"0.5em",borderBottom:"2px solid blue",width:"fit-content"},children:"Sub-Routings Access Control"}),(0,C.jsx)(g.c,{component:x.c,sx:{maxHeight:650},title:"Sub-Routings Access Control",children:(0,C.jsxs)(u.c,{stickyHeader:!0,"aria-label":"simple table",children:[(0,C.jsx)(j.c,{children:(0,C.jsx)(l.c,{children:p.o$.map((e=>(0,C.jsx)(o.c,{variant:e.variant,align:e.align,width:e.width,sx:{backgroundColor:"rgb(15, 11, 42)",color:"white"},children:"Action"===e.headname?"Sub Menu":e.headname},e.id)))})}),(0,C.jsx)(S.c,{children:r.map(((e,t)=>(0,C.jsx)(M,{data:e,UserTypeId:_.value,loadingOff:i,loadingOn:s},t)))})]})})]})}}}]);
//# sourceMappingURL=8272.f4c736a4.chunk.js.map