"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[6060],{64568:(e,a,s)=>{s.d(a,{c:()=>t});var l=s(82496);const t=()=>(0,l.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})},62344:(e,a,s)=>{s.d(a,{o$:()=>r,o5:()=>d,cF:()=>n,iI:()=>t});const l=s.p+"static/media/smt.aa4d4f940bbebff07a57.png",t={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},n={control:(e,a)=>({...e,height:"45px",background:"rgba(255, 255, 255, 0.322)"}),menu:(e,a)=>({...e,zIndex:9999})},r=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],d=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:l,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:l,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:l,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}]},80556:(e,a,s)=>{s.r(a),s.d(a,{default:()=>E});var l=s(43692),t=s(84436),n=s(89e3),r=s(5548),d=s(82656),i=s(26773),c=s(4488),o=s(90048),h=s(69060),m=s(30612),u=s(62344),x=s(64568),v=s(1908),j=s(39308),p=s(96064),N=s(86e3),g=s(45180),y=s(56084),b=s(36992),D=s(51560),C=s(56480),f=s(82496);const O=JSON.parse(localStorage.getItem("user")),S={Id:"",LoadingDate:"",TradeConfirmDate:"",OwnerName:"",BrokerName:"",PartyName:"",PartyAddress:"",PaymentCondition:"",Remarks:"",OrderStatus:"New Order",CreatedBy:null===O||void 0===O?void 0:O.UserId},I={Id:"",Sno:"",OrderId:"",ItemId:"",ItemName:"",Weight:"",Units:"",Rate:"",DeliveryLocation:"",Discount:"",QualityCondition:""},P={indexValue:null,Id:"",Sno:"",OrderId:"",Location:"",TransporterIndex:"",ArrivalDate:"",ItemId:"",ItemName:"",Concern:"",BillNo:"",BillDate:"",Quantity:"",Weight:"",Units:"",BatchLocation:"",PendingQuantity:"",CreatedBy:null===O||void 0===O?void 0:O.UserId},L={indexValue:null,Id:"",OrderId:"",Loading_Load:"",Loading_Empty:"",Unloading_Load:"",Unloading_Empty:"",EX_SH:"",DriverName:"",VehicleNo:"",PhoneNumber:"",CreatedBy:null===O||void 0===O?void 0:O.UserId},E=e=>{let{loadingOn:a,loadingOff:s}=e;const O=JSON.parse(localStorage.getItem("user")),E=(0,D.i6)(),k=(0,D.IT)().state,A="border fa-14 vctr",w="cus-inpt p-2",[T,R]=(0,h.useState)([]),[B,W]=(0,h.useState)([]),[M,V]=(0,h.useState)([]),[Q,U]=(0,h.useState)([]),[_,H]=(0,h.useState)(S),[z,F]=(0,h.useState)(I),[q,X]=(0,h.useState)(P),[G,Y]=(0,h.useState)(L),J=!(null===_||void 0===_||!_.Id),[Z,$]=(0,h.useState)({itemsDialog:!1,deliveryDialog:!1,transporterDialog:!1}),[K,ee]=(0,h.useState)({PurchaseOrderOnly:!0,PurchaseOderWithDelivery:!1,DeliveryEntry:!1});(0,h.useEffect)((()=>{(0,v.q)({address:"masters/products?Company_Id=".concat(null===O||void 0===O?void 0:O.Company_id)}).then((e=>{e.success?R(e.data):R([])})).catch((e=>console.error(e)))}),[]),(0,h.useEffect)((()=>{var e,a,s,l,t,n,r,d,i,c,o;if(!(0,j.CY)(k)||!(0,j.CY)(k.OrderDetails))return;const h=null!==(e=k.OrderDetails)&&void 0!==e&&e.LoadingDate?(0,j.Q7)(null===(a=k.OrderDetails)||void 0===a?void 0:a.LoadingDate):"",m=null!==(s=k.OrderDetails)&&void 0!==s&&s.TradeConfirmDate?(0,j.Q7)(null===(l=k.OrderDetails)||void 0===l?void 0:l.TradeConfirmDate):"",u=null===k||void 0===k?void 0:k.editPage;H({...k.OrderDetails,OrderStatus:null!==(t=null===(n=k.OrderDetails)||void 0===n?void 0:n.OrderStatus)&&void 0!==t?t:"New Order",LoadingDate:h,TradeConfirmDate:m,CreatedBy:null===O||void 0===O?void 0:O.UserId}),W(null!==(r=null===k||void 0===k?void 0:k.OrderItemsArray)&&void 0!==r?r:[]),V(null!==(d=null===k||void 0===k||null===(i=k.DeliveryArray)||void 0===i?void 0:i.map(((e,a)=>({...e,indexValue:null===(null===e||void 0===e?void 0:e.indexValue)?a:null===e||void 0===e?void 0:e.indexValue}))))&&void 0!==d?d:[]),U(null!==(c=null===k||void 0===k||null===(o=k.TranspoterArray)||void 0===o?void 0:o.map(((e,a)=>({...e,indexValue:null===(null===e||void 0===e?void 0:e.indexValue)?a:null===e||void 0===e?void 0:e.indexValue}))))&&void 0!==c?c:[]);const x=Object.keys(K).findIndex((e=>e===u));ee(-1!==x?e=>Object.fromEntries(Object.entries(e).map((e=>{let[a,s]=e;return[a,a===u]}))):{PurchaseOrderOnly:!1,PurchaseOderWithDelivery:!0,DeliveryEntry:!1})}),[k]);const ae=e=>{const{id:a}=e.target;ee({PurchaseOrderOnly:"PurchaseOrderOnly"===a,PurchaseOderWithDelivery:"PurchaseOderWithDelivery"===a,DeliveryEntry:"DeliveryEntry"===a})},se=()=>{$((e=>({itemsDialog:!1,deliveryDialog:!1,transporterDialog:!1}))),F(I),X(P),Y(L)};return(0,f.jsx)(l.c,{children:(0,f.jsxs)(t.c,{children:[(0,f.jsxs)("div",{className:"d-flex flex-wrap",children:[(0,f.jsx)("h5",{className:"flex-grow-1",children:"Purchase Order"}),(0,f.jsx)(n.c,{variant:"outlined",onClick:()=>E("/dataEntry/purchaseOrder"),children:"back"})]}),!_.Id&&(0,f.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,f.jsxs)("div",{className:"d-flex justify-content-center flex-wrap p-2 mb-2",children:[(0,f.jsxs)("div",{className:"form-check",children:[(0,f.jsx)("input",{className:"form-check-input shadow-none",style:{padding:"0.7em"},type:"radio",name:"radioType",id:"PurchaseOrderOnly",checked:K.PurchaseOrderOnly,disabled:!!_.Id,onChange:ae}),(0,f.jsx)("label",{className:"form-check-label p-1 me-3",htmlFor:"PurchaseOrderOnly",children:"Purchase Order"})]}),(0,f.jsxs)("div",{className:"form-check",children:[(0,f.jsx)("input",{className:"form-check-input shadow-none",style:{padding:"0.7em"},type:"radio",name:"radioType",id:"PurchaseOderWithDelivery",checked:K.PurchaseOderWithDelivery,disabled:!!_.Id,onChange:ae}),(0,f.jsx)("label",{className:"form-check-label p-1 me-3",htmlFor:"PurchaseOderWithDelivery",children:"Order With Arrival"})]})]})}),(0,f.jsxs)("div",{className:"table-responsive",children:[K.PurchaseOderWithDelivery&&_.Id&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("label",{children:"Order ID"}),":",(0,f.jsx)("input",{value:_.Id,disabled:!0,className:w+" w-auto ms-2 mb-2",onChange:e=>H((a=>({...a,Id:e.target.value}))),placeholder:"Ex: 233"})]}),(0,f.jsx)("table",{className:"table m-0",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A+" text-primary fw-bold bg-light",children:"ORDER DETAILS"}),(0,f.jsx)("td",{className:A+" text-primary text-end fw-bold bg-light",children:"PARTY DETAILS"})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A+" p-0",children:(0,f.jsx)("table",{className:"table m-0 border-0",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Loading Date"}),(0,f.jsx)("td",{className:A+" p-0",children:(0,f.jsx)("input",{type:"date",className:w+" border-0",value:_.LoadingDate,onChange:e=>H((a=>({...a,LoadingDate:e.target.value})))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Trade Confirm Date"}),(0,f.jsx)("td",{className:A+" p-0",children:(0,f.jsx)("input",{type:"date",className:w+" border-0",value:_.TradeConfirmDate,onChange:e=>H((a=>({...a,TradeConfirmDate:e.target.value})))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Owner Name"}),(0,f.jsx)("td",{className:A+" p-0",children:(0,f.jsx)("input",{className:w+" border-0",value:_.OwnerName,onChange:e=>H((a=>({...a,OwnerName:e.target.value})))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Broker Name"}),(0,f.jsx)("td",{className:A+" p-0",children:(0,f.jsx)("input",{className:w+" border-0",value:_.BrokerName,onChange:e=>H((a=>({...a,BrokerName:e.target.value})))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Order Status"}),(0,f.jsx)("td",{className:A+" p-0",children:(0,f.jsxs)("select",{className:w+" border-0",value:null===_||void 0===_?void 0:_.OrderStatus,onChange:e=>H((a=>({...a,OrderStatus:e.target.value}))),children:[(0,f.jsx)("option",{value:"New Order",children:"New Order"}),(0,f.jsx)("option",{value:"On Process",children:"On Process"}),(0,f.jsx)("option",{value:"Completed",children:"Completed"}),(0,f.jsx)("option",{value:"Canceled",children:"Canceled"})]})})]})]})})}),(0,f.jsx)("td",{className:A,children:(0,f.jsxs)("div",{className:"d-flex flex-wrap bg-white",children:[(0,f.jsxs)("span",{className:"flex-grow-1 p-2",children:[(0,f.jsx)("h6",{children:"Party Name"}),(0,f.jsx)("input",{className:w+" mb-2",value:_.PartyName,onChange:e=>H((a=>({...a,PartyName:e.target.value})))}),(0,f.jsx)("br",{}),(0,f.jsx)("h6",{children:"Party Address"}),(0,f.jsx)("textarea",{className:w+" mb-2",rows:3,value:_.PartyAddress,onChange:e=>H((a=>({...a,PartyAddress:e.target.value})))})]}),(0,f.jsxs)("span",{className:"p-2",children:[(0,f.jsx)("h6",{children:"Payment Condition"}),(0,f.jsx)("textarea",{className:w,rows:2,value:_.PaymentCondition,onChange:e=>H((a=>({...a,PaymentCondition:e.target.value})))}),(0,f.jsx)("h6",{children:"Remarks"}),(0,f.jsx)("textarea",{className:w,rows:2,value:_.Remarks,onChange:e=>H((a=>({...a,Remarks:e.target.value})))})]})]})})]}),(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:"p-3",colSpan:2})})]})}),(K.PurchaseOrderOnly||K.PurchaseOderWithDelivery)&&!K.DeliveryEntry&&(0,f.jsxs)("table",{className:"table m-0",children:[(0,f.jsxs)("thead",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A+" text-primary fw-bold bg-light",colSpan:6,children:"ORDER ITEMS"}),(0,f.jsx)("td",{className:A+" text-end bg-light p-0",children:(0,f.jsx)(n.c,{startIcon:(0,f.jsx)(p.c,{}),varient:"outlined",onClick:()=>$((e=>({...e,itemsDialog:!0}))),children:"Add Product"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:A+" text-center",children:"SNo"}),(0,f.jsx)("th",{className:A+" text-center",children:"Item Name"}),(0,f.jsx)("th",{className:A+" text-center",children:"Tonnage"}),(0,f.jsxs)("th",{className:A+" text-center",children:["Rate ",(0,f.jsx)("br",{}),"Deliver/Spot"]}),(0,f.jsx)("th",{className:A+" text-center",children:"Discount"}),(0,f.jsx)("th",{className:A+" text-center",children:"Quality Condition"}),(0,f.jsx)("th",{className:A+" text-center",children:"Action"})]})]}),(0,f.jsxs)("tbody",{children:[B.map(((e,a)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:a+1}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.ItemName}),(0,f.jsx)("td",{className:A,children:(null===e||void 0===e?void 0:e.Weight)+" "+(null===e||void 0===e?void 0:e.Units)}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.Rate}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.Discount}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.QualityCondition}),(0,f.jsxs)("td",{className:A+" p-0 text-center",children:[(0,f.jsx)(r.c,{onClick:()=>{F((a=>Object.fromEntries(Object.entries(a).map((a=>{var s;let[l,t]=a;return[l,null!==(s=e[l])&&void 0!==s?s:t]}))))),$((e=>({...e,itemsDialog:!0})))},size:"small",children:(0,f.jsx)(N.c,{})}),(0,f.jsx)(r.c,{onClick:()=>{W((e=>e.filter(((e,s)=>s!==a))))},size:"small",children:(0,f.jsx)(g.c,{color:"error"})})]})]},a))),(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:"p-3",colSpan:7})})]})]}),(K.PurchaseOderWithDelivery||K.DeliveryEntry)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("table",{className:"table m-0",children:[(0,f.jsxs)("thead",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A+" text-primary fw-bold bg-light",colSpan:9,children:"OTHER DETAILS"}),(0,f.jsx)("td",{className:A+" text-end bg-light p-0",children:(0,f.jsx)(n.c,{startIcon:(0,f.jsx)(p.c,{}),varient:"outlined",onClick:()=>$((e=>({...e,transporterDialog:!0}))),children:"Add Transporter"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:A+" text-center",rowSpan:2,children:"SNo"}),(0,f.jsx)("th",{className:A+" text-center",colSpan:2,children:"Loading Wt"}),(0,f.jsx)("th",{className:A+" text-center",colSpan:2,children:"Unloading Wt"}),(0,f.jsx)("th",{className:A+" text-center",children:"Weight"}),(0,f.jsx)("th",{className:A+" text-center",colSpan:3,children:"Transport Details"}),(0,f.jsx)("th",{className:A+" text-center",rowSpan:2,children:"Action"})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:A+" text-center",children:"Load"}),(0,f.jsx)("th",{className:A+" text-center",children:"Empty"}),(0,f.jsx)("th",{className:A+" text-center",children:"Load"}),(0,f.jsx)("th",{className:A+" text-center",children:"Empty"}),(0,f.jsx)("th",{className:A+" text-center",children:"EX / SH"}),(0,f.jsx)("th",{className:A+" text-center",children:"Name"}),(0,f.jsx)("th",{className:A+" text-center",children:"Vehicle No"}),(0,f.jsx)("th",{className:A+" text-center",children:"Phone Number"})]})]}),(0,f.jsxs)("tbody",{children:[Q.map(((e,a)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:a+1}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.Loading_Load}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.Loading_Empty}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.Unloading_Load}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.Unloading_Empty}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.EX_SH}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.DriverName}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.VehicleNo}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.PhoneNumber}),(0,f.jsxs)("td",{className:A+" p-0 text-center",children:[(0,f.jsx)(r.c,{onClick:()=>{Y((a=>Object.fromEntries(Object.entries(a).map((a=>{var s;let[l,t]=a;return[l,null!==(s=e[l])&&void 0!==s?s:t]}))))),$((e=>({...e,transporterDialog:!0})))},size:"small",children:(0,f.jsx)(N.c,{})}),(0,f.jsx)(r.c,{onClick:()=>{U((e=>e.filter(((e,s)=>s!==a))))},size:"small",children:(0,f.jsx)(g.c,{color:"error"})})]})]},a))),(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:A+" p-3",colSpan:10})})]})]}),(0,f.jsxs)("table",{className:"table m-0",children:[(0,f.jsxs)("thead",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A+" text-primary fw-bold bg-light",colSpan:11,children:"DELIVERY DETAILS"}),(0,f.jsx)("td",{className:A+" text-end bg-light p-0",children:(0,f.jsx)(n.c,{startIcon:(0,f.jsx)(p.c,{}),varient:"outlined",disabled:0===Q.length,onClick:()=>$((e=>({...e,deliveryDialog:!0}))),children:"Add Delivery"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("th",{className:A+" text-center",children:"SNo"}),(0,f.jsx)("th",{className:A+" text-center",children:"Location"}),(0,f.jsx)("th",{className:A+" text-center",children:"Arrival Date"}),(0,f.jsx)("th",{className:A+" text-center",children:"Item Name"}),(0,f.jsx)("th",{className:A+" text-center",children:"Concern"}),(0,f.jsx)("th",{className:A+" text-center",children:"Bill No"}),(0,f.jsx)("th",{className:A+" text-center",children:"Bill Date"}),(0,f.jsx)("th",{className:A+" text-center",children:"Quantity"}),(0,f.jsx)("th",{className:A+" text-center",children:"Tonnage / KGs"}),(0,f.jsx)("th",{className:A+" text-center",children:"Batch / Location"}),(0,f.jsx)("th",{className:A+" text-center",children:"Pending Quantity"}),(0,f.jsx)("th",{className:A+" text-center",children:"Action"})]})]}),(0,f.jsxs)("tbody",{children:[M.map(((e,a)=>(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:a+1}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.Location}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.ArrivalDate}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.ItemName}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.Concern}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.BillNo}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.BillDate}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.Quantity}),(0,f.jsx)("td",{className:A,children:(null===e||void 0===e?void 0:e.Weight)+" "+(null===e||void 0===e?void 0:e.Units)}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.BatchLocation}),(0,f.jsx)("td",{className:A,children:null===e||void 0===e?void 0:e.PendingQuantity}),(0,f.jsxs)("td",{className:A+" p-0 text-center",children:[(0,f.jsx)(r.c,{onClick:()=>{X((a=>Object.fromEntries(Object.entries(a).map((a=>{var s;let[l,t]=a;return[l,null!==(s=e[l])&&void 0!==s?s:t]}))))),$((e=>({...e,deliveryDialog:!0})))},size:"small",children:(0,f.jsx)(N.c,{})}),(0,f.jsx)(r.c,{onClick:()=>{V((e=>e.filter(((e,s)=>s!==a))))},size:"small",children:(0,f.jsx)(g.c,{color:"error"})})]})]},a))),(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:"p-3",colSpan:12})})]})]})]}),(0,f.jsxs)("div",{className:"d-flex justify-content-end flex-wrap my-3",children:[(0,f.jsx)(n.c,{onClick:()=>{H(S),W([]),V([]),U([])},className:"me-2",variant:"outlined",startIcon:(0,f.jsx)(y.c,{}),children:"Clear Values"}),(0,f.jsx)(n.c,{onClick:()=>{a&&a(),(0,v.q)({address:"dataEntry/purchaseOrderEntry",method:J?"PUT":"POST",bodyData:{OrderDetails:_,OrderItems:K.DeliveryEntry?[]:B,DelivdryDetails:K.PurchaseOrderOnly?[]:M,TranspoterDetails:K.PurchaseOrderOnly?[]:Q}}).then((e=>{null!==e&&void 0!==e&&e.success?(H(S),W([]),V([]),U([]),C.m4.success(null===e||void 0===e?void 0:e.message)):C.m4.error(null===e||void 0===e?void 0:e.message)})).catch((e=>console.error(e))).finally((()=>{s&&s()}))},variant:"contained",startIcon:(0,f.jsx)(b.c,{}),disabled:(()=>{const e=(0,j.Qr)(B.length,0),a=!_.PartyName,s=(0,j.Qr)(M.length,0)&&(0,j.Qr)(Q.length,0),l=!_.Id;return K.PurchaseOrderOnly&&(e||a)||K.PurchaseOderWithDelivery&&(s&&e||a)||K.DeliveryEntry&&(l||s)})(),children:"Save"})]})]}),(0,f.jsxs)(d.c,{open:Z.itemsDialog,onClose:se,maxWidth:"sm",fullWidth:!0,children:[(0,f.jsx)(i.c,{children:"Add Items"}),(0,f.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(e=>{const a=B.findIndex((a=>(0,j.Qr)(a.ItemId,e.ItemId)));if(-1!==a){const s=[...B];Object.entries(e).forEach((e=>{let[l,t]=e;s[a][l]=t})),W(s)}else W((a=>[...a,{...e}]));F(I),$((e=>({...e,itemsDialog:!1})))})(z)},children:[(0,f.jsx)(c.c,{children:(0,f.jsx)("table",{className:"table m-0",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:A,children:["Item Name ",(0,f.jsx)(x.c,{})]}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)(m.cp,{value:{value:z.ItemId,label:z.ItemName},onChange:e=>F((a=>({...a,ItemId:e.value,ItemName:e.label}))),options:[{value:"",label:"select",isDisabled:!0},...T.map((e=>({value:null===e||void 0===e?void 0:e.Product_Id,label:null===e||void 0===e?void 0:e.Product_Name,isDisabled:-1!==B.findIndex((a=>(0,j.Qr)(null===a||void 0===a?void 0:a.ItemId,null===e||void 0===e?void 0:e.Product_Id)))})))],styles:u.cF,required:!0,isSearchable:!0,placeholder:"Select Product",maxMenuHeight:200})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:A,children:["Weight ",(0,f.jsx)(x.c,{})]}),(0,f.jsxs)("td",{className:A,children:[(0,f.jsx)("input",{type:"number",className:"cus-inpt p-2 w-auto",value:z.Weight,required:!0,placeholder:"Weight",onChange:e=>F((a=>({...a,Weight:e.target.value})))}),(0,f.jsx)("input",{className:"cus-inpt p-2 w-auto",value:z.Units,placeholder:"Units ex: kg, l, ml...",onChange:e=>F((a=>({...a,Units:e.target.value})))})]})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:A,children:["Rate ",(0,f.jsx)(x.c,{})]}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{type:"number",required:!0,className:"cus-inpt p-2",value:z.Rate,placeholder:"Rate",onChange:e=>F((a=>({...a,Rate:e.target.value})))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsxs)("td",{className:A,children:["Delivery Location ",(0,f.jsx)(x.c,{})]}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{className:"cus-inpt p-2",required:!0,value:z.DeliveryLocation,placeholder:"Location ",onChange:e=>F((a=>({...a,DeliveryLocation:e.target.value})))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Discount"}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{type:"number",className:"cus-inpt p-2",placeholder:"Discount Amount",value:z.Discount,onChange:e=>F((a=>({...a,Discount:e.target.value})))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Quality Condition"}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{className:"cus-inpt p-2",value:z.QualityCondition,placeholder:"Pencentage or condition",onChange:e=>F((a=>({...a,QualityCondition:e.target.value})))})})]})]})})}),(0,f.jsxs)(o.c,{className:"d-flex justify-content-between",children:[(0,f.jsx)("span",{children:(0,f.jsx)(n.c,{variant:"outlined",type:"button",onClick:()=>F(I),children:"clear"})}),(0,f.jsxs)("span",{children:[(0,f.jsx)(n.c,{variant:"outlined",className:"me-2",type:"button",onClick:se,children:"cancel"}),(0,f.jsx)(n.c,{variant:"contained",type:"submit",children:"submit"})]})]})]})]}),(0,f.jsxs)(d.c,{open:Z.deliveryDialog,onClose:se,maxWidth:"md",fullWidth:!0,children:[(0,f.jsx)(i.c,{children:"Add Delivery Details"}),(0,f.jsxs)("form",{onSubmit:e=>{var a;e.preventDefault(),a=q,(0,j.Q$)(a.indexValue)?V((e=>{const s=[...e];return s[a.indexValue]={...a},s})):V((e=>[...e,{...a,indexValue:e.length}])),X(P),$((e=>({...e,deliveryDialog:!1})))},children:[(0,f.jsx)(c.c,{children:(0,f.jsx)("table",{className:"table mb-2",children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Location"}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{className:"cus-inpt p-2",value:null===q||void 0===q?void 0:q.Location,onChange:e=>X((a=>({...a,Location:e.target.value}))),placeholder:"Location"})}),(0,f.jsx)("td",{className:"border-0"}),(0,f.jsx)("td",{className:A,children:"Arrival Date"}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{type:"date",value:null===q||void 0===q?void 0:q.ArrivalDate,className:"cus-inpt p-2",onChange:e=>X((a=>({...a,ArrivalDate:e.target.value})))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Item Name"}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)(m.cp,{value:{value:null===q||void 0===q?void 0:q.ItemId,label:null===q||void 0===q?void 0:q.ItemName},onChange:e=>X((a=>({...a,ItemId:e.value,ItemName:e.label}))),options:[{value:"",label:"select",isDisabled:!0},...B.map((e=>({value:null===e||void 0===e?void 0:e.ItemId,label:null===e||void 0===e?void 0:e.ItemName})))],styles:u.cF,required:!0,isSearchable:!0,placeholder:"Select Product",maxMenuHeight:200})}),(0,f.jsx)("td",{className:"border-0"}),(0,f.jsx)("td",{className:A,children:"Concern"}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{className:"cus-inpt p-2",value:null===q||void 0===q?void 0:q.Concern,onChange:e=>X((a=>({...a,Concern:e.target.value}))),placeholder:""})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Bill No"}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{className:"cus-inpt p-2",value:null===q||void 0===q?void 0:q.BillNo,onChange:e=>X((a=>({...a,BillNo:e.target.value}))),placeholder:""})}),(0,f.jsx)("td",{className:"border-0"}),(0,f.jsx)("td",{className:A,children:"Bill Date"}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{type:"date",value:null===q||void 0===q?void 0:q.BillDate,className:"cus-inpt p-2",onChange:e=>X((a=>({...a,BillDate:e.target.value})))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Quantity"}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{type:"number",value:null===q||void 0===q?void 0:q.Quantity,className:"cus-inpt p-2",onChange:e=>X((a=>({...a,Quantity:e.target.value})))})}),(0,f.jsx)("td",{className:"border-0"}),(0,f.jsx)("td",{className:A,children:"Tonnage"}),(0,f.jsxs)("td",{className:A,children:[(0,f.jsx)("input",{type:"number",value:null===q||void 0===q?void 0:q.Weight,className:"cus-inpt p-2 w-50",placeholder:"Weight",onChange:e=>X((a=>({...a,Weight:e.target.value})))}),(0,f.jsx)("input",{value:null===q||void 0===q?void 0:q.Units,className:"cus-inpt p-2 w-50",placeholder:"Units ex: kg, L, ml",onChange:e=>X((a=>({...a,Units:e.target.value})))})]})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Batch / Location"}),(0,f.jsx)("td",{className:A,children:(0,f.jsx)("input",{className:"cus-inpt p-2",value:null===q||void 0===q?void 0:q.BatchLocation,onChange:e=>X((a=>({...a,BatchLocation:e.target.value}))),placeholder:"location or batch"})}),(0,f.jsx)("td",{className:"border-0"}),(0,f.jsx)("td",{className:A,children:"Transporter"}),(0,f.jsx)("td",{className:A,children:(0,f.jsxs)("select",{value:null===q||void 0===q?void 0:q.TransporterIndex,className:"cus-inpt w-auto ms-2",style:{minWidth:"130px"},required:!0,onChange:e=>X((a=>({...a,TransporterIndex:e.target.value}))),children:[(0,f.jsx)("option",{value:"",disabled:!0,children:"Select Trip"}),Q.map(((e,a)=>(0,f.jsxs)("option",{value:null===e||void 0===e?void 0:e.indexValue,children:["Trip - ",(0,j.Q5)(null===e||void 0===e?void 0:e.indexValue,1)]},a)))]})})]})]})})}),(0,f.jsxs)(o.c,{className:"d-flex justify-content-between",children:[(0,f.jsx)("span",{children:(0,f.jsx)(n.c,{variant:"outlined",type:"button",onClick:()=>F(I),children:"clear"})}),(0,f.jsxs)("span",{children:[(0,f.jsx)(n.c,{variant:"outlined",className:"me-2",type:"button",onClick:se,children:"cancel"}),(0,f.jsx)(n.c,{variant:"contained",type:"submit",children:"submit"})]})]})]})]}),(0,f.jsxs)(d.c,{open:Z.transporterDialog,onClose:se,maxWidth:"sm",fullWidth:!0,children:[(0,f.jsx)(i.c,{children:"Add Transporter Details"}),(0,f.jsxs)("form",{onSubmit:e=>{var a;e.preventDefault(),a=G,(0,j.Q$)(a.indexValue)?U((e=>{const s=[...e];return s[a.indexValue]={...a},s})):U((e=>[...e,{...a,indexValue:e.length}])),Y(L),$((e=>({...e,transporterDialog:!1})))},children:[(0,f.jsx)(c.c,{children:(0,f.jsx)("table",{className:"table m-0",children:(0,f.jsxs)("tbody",{children:[(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:A+" text-center bg-light",colSpan:4,children:"Loading Details"})}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Load"}),(0,f.jsx)("td",{className:A+" p-0",children:(0,f.jsx)("input",{type:"number",value:null===G||void 0===G?void 0:G.Loading_Load,className:w+" border-0",onChange:e=>Y((a=>({...a,Loading_Load:e.target.value})))})}),(0,f.jsx)("td",{className:A,children:"Empty"}),(0,f.jsx)("td",{className:A+" p-0",children:(0,f.jsx)("input",{type:"number",value:null===G||void 0===G?void 0:G.Loading_Empty,className:w+" border-0",onChange:e=>Y((a=>({...a,Loading_Empty:e.target.value})))})})]}),(0,f.jsx)("tr",{children:(0,f.jsx)("td",{className:A+" text-center bg-light",colSpan:4,children:"Unloading Details"})}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,children:"Load"}),(0,f.jsx)("td",{className:A+" p-0",children:(0,f.jsx)("input",{type:"number",value:null===G||void 0===G?void 0:G.Unloading_Load,className:w+" border-0",onChange:e=>Y((a=>({...a,Unloading_Load:e.target.value})))})}),(0,f.jsx)("td",{className:A,children:"Empty"}),(0,f.jsx)("td",{className:A+" p-0",children:(0,f.jsx)("input",{type:"number",value:null===G||void 0===G?void 0:G.Unloading_Empty,className:w+" border-0",onChange:e=>Y((a=>({...a,Unloading_Empty:e.target.value})))})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,colSpan:2,children:"EX SH"}),(0,f.jsx)("td",{className:A+" p-0",colSpan:2,children:(0,f.jsx)("input",{value:null===G||void 0===G?void 0:G.EX_SH,onChange:e=>Y((a=>({...a,EX_SH:e.target.value}))),className:w+" border-0"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,colSpan:2,children:"Driver Name"}),(0,f.jsx)("td",{className:A+" p-0",colSpan:2,children:(0,f.jsx)("input",{value:null===G||void 0===G?void 0:G.DriverName,onChange:e=>Y((a=>({...a,DriverName:e.target.value}))),className:w+" border-0"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,colSpan:2,children:"Vehicle No"}),(0,f.jsx)("td",{className:A+" p-0",colSpan:2,children:(0,f.jsx)("input",{value:null===G||void 0===G?void 0:G.VehicleNo,onChange:e=>Y((a=>({...a,VehicleNo:e.target.value}))),className:w+" border-0"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:A,colSpan:2,children:"Phone Number"}),(0,f.jsx)("td",{className:A+" p-0",colSpan:2,children:(0,f.jsx)("input",{type:"number",value:null===G||void 0===G?void 0:G.PhoneNumber,onChange:e=>Y((a=>({...a,PhoneNumber:e.target.value}))),className:w+" border-0",max:9999999999})})]})]})})}),(0,f.jsxs)(o.c,{className:"d-flex justify-content-between",children:[(0,f.jsx)("span",{children:(0,f.jsx)(n.c,{variant:"outlined",type:"button",onClick:()=>Y(L),children:"clear"})}),(0,f.jsxs)("span",{children:[(0,f.jsx)(n.c,{variant:"outlined",className:"me-2",type:"button",onClick:se,children:"cancel"}),(0,f.jsx)(n.c,{variant:"contained",type:"submit",children:"submit"})]})]})]})]})]})})}},96064:(e,a,s)=>{s.d(a,{c:()=>n});var l=s(27664),t=s(82496);const n=(0,l.c)((0,t.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add")},56084:(e,a,s)=>{s.d(a,{c:()=>n});var l=s(27664),t=s(82496);const n=(0,l.c)((0,t.jsx)("path",{d:"M5 13h14v-2H5zm-2 4h14v-2H3zM7 7v2h14V7z"}),"ClearAll")},45180:(e,a,s)=>{s.d(a,{c:()=>n});var l=s(27664),t=s(82496);const n=(0,l.c)((0,t.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,a,s)=>{s.d(a,{c:()=>n});var l=s(27664),t=s(82496);const n=(0,l.c)((0,t.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},36992:(e,a,s)=>{s.d(a,{c:()=>n});var l=s(27664),t=s(82496);const n=(0,l.c)((0,t.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},84436:(e,a,s)=>{s.d(a,{c:()=>j});var l=s(45072),t=s(95656),n=s(69060),r=s(79736),d=s(21412),i=s(12556),c=s(49836),o=s(10099),h=s(33448);function m(e){return(0,h.cp)("MuiCardContent",e)}(0,o.c)("MuiCardContent",["root"]);var u=s(82496);const x=["className","component"],v=(0,i.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),j=n.forwardRef((function(e,a){const s=(0,c.C)({props:e,name:"MuiCardContent"}),{className:n,component:i="div"}=s,o=(0,t.c)(s,x),h=(0,l.c)({},s,{component:i}),j=(e=>{const{classes:a}=e;return(0,d.c)({root:["root"]},m,a)})(h);return(0,u.jsx)(v,(0,l.c)({as:i,className:(0,r.c)(j.root,n),ownerState:h,ref:a},o))}))},43692:(e,a,s)=>{s.d(a,{c:()=>p});var l=s(45072),t=s(95656),n=s(69060),r=s(79736),d=s(21412),i=s(12556),c=s(49836),o=s(85624),h=s(10099),m=s(33448);function u(e){return(0,m.cp)("MuiCard",e)}(0,h.c)("MuiCard",["root"]);var x=s(82496);const v=["className","raised"],j=(0,i.cp)(o.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,a)=>a.root})((()=>({overflow:"hidden"}))),p=n.forwardRef((function(e,a){const s=(0,c.C)({props:e,name:"MuiCard"}),{className:n,raised:i=!1}=s,o=(0,t.c)(s,v),h=(0,l.c)({},s,{raised:i}),m=(e=>{const{classes:a}=e;return(0,d.c)({root:["root"]},u,a)})(h);return(0,x.jsx)(j,(0,l.c)({className:(0,r.c)(m.root,n),elevation:i?8:void 0,ref:a,ownerState:h},o))}))}}]);
//# sourceMappingURL=6060.de83c01f.chunk.js.map