{"version":3,"file":"static/js/9804.5e7c3b59.chunk.js","mappings":"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","sources":["Pages/DataEntry/purchaseOrderEntry.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport FilterableTable from \"../../Components/filterableTable2\";\r\nimport { fetchLink } from \"../../Components/fetchComponent\";\r\nimport { checkIsNumber, getPreviousDate, ISOString } from \"../../Components/functions\";\r\nimport { Button, Card, CardContent, Dialog, DialogActions, DialogContent, DialogTitle, IconButton } from \"@mui/material\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { FilterAlt } from '@mui/icons-material';\r\nimport { purchaseOrderDataSet, displayColumns } from \"./purchaseOrderDataArray\";\r\nimport { toast } from 'react-toastify';\r\nimport PurchaseOrderPreviewTemplate from \"./purchaseOrderPreviewTemplate\";\r\n\r\n\r\nconst PurchaseOrderDataEntry = ({ loadingOn, loadingOff }) => {\r\n\r\n    const [purchaseOrderData, setPurchaseOrderData] = useState([]);\r\n    const [orderPreview, setOrderPreview] = useState({\r\n        OrderDetails: {},\r\n        OrderItemsArray: [],\r\n        DeliveryArray: [],\r\n        TranspoterArray: [],\r\n        display: false,\r\n    });\r\n\r\n    const nav = useNavigate();\r\n\r\n    const [filters, setFilters] = useState({\r\n        Fromdate: getPreviousDate(10),\r\n        Todate: ISOString(),\r\n        FilterDialog: false,\r\n        OrderStatus: 'ITEMS',\r\n        deleteOrderDialog: false,\r\n        deleteOrderId: '',\r\n        refresh: false,\r\n        view: 'PURCHASE ORDERS'\r\n    })\r\n\r\n    useEffect(() => {\r\n        fetchLink({\r\n            address: `dataEntry/purchaseOrderEntry?Fromdate=${filters?.Fromdate}&Todate=${filters?.Todate}`,\r\n        }).then(data => {\r\n            if (data.success) {\r\n                setPurchaseOrderData(data.data);\r\n            }\r\n        }).catch(e => console.error(e))\r\n    }, [filters.Fromdate, filters.Todate, filters.refresh]);\r\n\r\n    const deleteOrder = (OrderId) => {\r\n        if (!checkIsNumber(OrderId)) return;\r\n\r\n        fetchLink({\r\n            address: 'dataEntry/purchaseOrderEntry',\r\n            method: 'DELETE',\r\n            bodyData: { OrderId }\r\n        }).then(data => {\r\n            if (data.success) {\r\n                setFilters(pre => ({ ...pre, deleteOrderDialog: false, deleteOrderId: '', refresh: !pre.refresh }));\r\n                toast.success(data.message);\r\n            } else {\r\n                setFilters(pre => ({ ...pre, deleteOrderDialog: false, deleteOrderId: '' }));\r\n                toast.error(data.message);\r\n            }\r\n        }).catch(e => console.error(e))\r\n    }\r\n\r\n    const onCloseDialog = () => {\r\n        setOrderPreview({\r\n            OrderDetails: {},\r\n            OrderItemsArray: [],\r\n            DeliveryArray: [],\r\n            TranspoterArray: [],\r\n            display: false,\r\n        })\r\n    }\r\n\r\n    const navigateToPageWithState = ({ page = '', stateToTransfer = {} }) => {\r\n        nav(page, { state: stateToTransfer });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card>\r\n                <div className=\"p-2 d-flex flex-wrap align-items-center\">\r\n                    <h5 className=\"m-0 flex-grow-1\">Purchase Order</h5>\r\n                    <IconButton\r\n                        size=\"small\"\r\n                        className=\"me-2\"\r\n                        onClick={() => setFilters(pre => ({ ...pre, FilterDialog: true }))}\r\n                    ><FilterAlt /></IconButton>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        onClick={() => nav('create')}\r\n                    >Add</Button>\r\n                </div>\r\n\r\n                <CardContent>\r\n                    <FilterableTable\r\n                        dataArray={purchaseOrderDataSet({\r\n                            data: purchaseOrderData,\r\n                            status: filters.OrderStatus\r\n                        })}\r\n                        columns={displayColumns({\r\n                            OrderStatus: filters.OrderStatus,\r\n                            dialogs: setFilters,\r\n                            setOrderPreview,\r\n                            navigation: navigateToPageWithState\r\n                        })}\r\n                        tableMaxHeight={750}\r\n                        EnableSerialNumber\r\n                        title={filters.OrderStatus}\r\n                    />\r\n\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {orderPreview.display && (\r\n                <PurchaseOrderPreviewTemplate\r\n                    OrderDetails={orderPreview.OrderDetails}\r\n                    OrderItemsArray={orderPreview.OrderItemsArray}\r\n                    DeliveryArray={orderPreview.DeliveryArray}\r\n                    TranspoterArray={orderPreview.TranspoterArray}\r\n                    display={orderPreview.display}\r\n                    onCloseDialog={() => onCloseDialog()}\r\n                />\r\n            )}\r\n\r\n            <Dialog\r\n                open={filters.FilterDialog}\r\n                onClose={() => setFilters(pre => ({ ...pre, FilterDialog: false }))}\r\n                maxWidth='sm' fullWidth\r\n            >\r\n                <DialogTitle>Filters</DialogTitle>\r\n                <DialogContent>\r\n                    <table className=\"table m-0 border-0\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td className=\"border-0 vctr\">Fromdate</td>\r\n                                <td className=\"border-0 vctr\">\r\n                                    <input\r\n                                        type=\"date\"\r\n                                        onChange={e => setFilters(pre => ({ ...pre, Fromdate: e.target.value }))}\r\n                                        value={filters.Fromdate}\r\n                                        className=\"cus-inpt p-2\"\r\n                                    />\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td className=\"border-0 vctr\">Todate</td>\r\n                                <td className=\"border-0 vctr\">\r\n                                    <input\r\n                                        type=\"date\"\r\n                                        onChange={e => setFilters(pre => ({ ...pre, Todate: e.target.value }))}\r\n                                        value={filters.Todate}\r\n                                        className=\"cus-inpt p-2\"\r\n                                    />\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td className=\"border-0 vctr\">Order Status</td>\r\n                                <td className=\"border-0 vctr\">\r\n                                    <select\r\n                                        className=\"cus-inpt p-2\"\r\n                                        value={filters.OrderStatus}\r\n                                        onChange={e => setFilters(pre => ({ ...pre, OrderStatus: e.target.value }))}\r\n                                    >\r\n                                        <optgroup label=\"ITEM BASED\">\r\n                                            <option value={'ITEMS'}>ITEMS</option>\r\n                                            <option value={'ITEMS PENDING'}>ITEMS - PENDING</option>\r\n                                            <option value={'ITEMS ARRIVED'}>ITEMS - ARRIVED</option>\r\n                                        </optgroup>\r\n                                        <optgroup label=\"ORDER BASED\">\r\n                                            <option value={'ORDERS'}>ORDERS</option>\r\n                                            {/* <option value={'ORDERS PENDING'}>ORDERS - PENDING</option>\r\n                                            <option value={'ORDERS ARRIVED'}>ORDERS - ARRIVED</option> */}\r\n                                        </optgroup>\r\n                                        <optgroup label=\"REPORTS\">\r\n                                            <option value=\"REPORT 1\">REPORT 1</option>\r\n                                            <option value=\"REPORT 2\">REPORT 2</option>\r\n                                            <option value=\"REPORT 2A\">REPORT 2A</option>\r\n                                            <option value=\"REPORT 3\">REPORT 3</option>\r\n                                            <option value=\"REPORT 4\">REPORT 4</option>\r\n                                        </optgroup>\r\n                                    </select>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button\r\n                        onClick={() => setFilters(pre => ({ ...pre, FilterDialog: false }))}\r\n                        variant=\"outlined\"\r\n                    >Close</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n\r\n            <Dialog\r\n                open={filters.deleteOrderDialog}\r\n                onClose={() => setFilters(pre => ({ ...pre, deleteOrderDialog: false, deleteOrderId: '' }))}\r\n                maxWidth='sm'\r\n            >\r\n                <DialogTitle>Confirmation</DialogTitle>\r\n                <DialogContent>\r\n                    <h6>Do you want to delete the order permanently?</h6>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button\r\n                        onClick={() => setFilters(pre => ({ ...pre, deleteOrderDialog: false, deleteOrderId: '' }))}\r\n                    >Cancel</Button>\r\n                    <Button color='error' variant='outlined' onClick={() => deleteOrder(filters.deleteOrderId)}>Delete</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default PurchaseOrderDataEntry;"],"names":["_ref","loadingOn","loadingOff","purchaseOrderData","setPurchaseOrderData","useState","orderPreview","setOrderPreview","OrderDetails","OrderItemsArray","DeliveryArray","TranspoterArray","display","nav","useNavigate","filters","setFilters","Fromdate","getPreviousDate","Todate","ISOString","FilterDialog","OrderStatus","deleteOrderDialog","deleteOrderId","refresh","view","useEffect","fetchLink","address","concat","then","data","success","catch","e","console","error","_jsxs","_Fragment","children","Card","className","_jsx","IconButton","size","onClick","pre","FilterAlt","Button","variant","CardContent","FilterableTable","dataArray","purchaseOrderDataSet","status","columns","displayColumns","dialogs","navigation","_ref2","page","stateToTransfer","state","tableMaxHeight","EnableSerialNumber","title","PurchaseOrderPreviewTemplate","onCloseDialog","Dialog","open","onClose","maxWidth","fullWidth","DialogTitle","DialogContent","type","onChange","target","value","label","DialogActions","color","deleteOrder","OrderId","checkIsNumber","method","bodyData","toast","message"],"sourceRoot":""}