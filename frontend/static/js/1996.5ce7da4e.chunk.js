"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1996],{1996:(e,t,a)=>{a.r(t),a.d(t,{default:()=>C});var s=a(69060),c=a(39308),i=a(56480),n=a(89e3),o=a(84436),r=a(3358),l=a(82656),d=a(26773),m=a(4488),h=a(90048),u=a(27664),p=a(82496);const x=(0,u.c)((0,p.jsx)("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload");var g=a(77536),j=a(1908),f=a(79476);const v=()=>{const{contextObj:e}=(0,s.useContext)(g.a),[t,a]=(0,s.useState)([]),[u,v]=(0,s.useState)(!1),w={image:"",dialog:!1},[b,C]=(0,s.useState)(w);(0,s.useEffect)((()=>{(0,j.q)({address:"dataEntry/inwardActivity"}).then((e=>a(e.data))).catch((e=>console.error(e)))}),[u]);const N=()=>{C(w)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"p-3 pt-0 fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,p.jsx)("span",{children:"Inward Activities"}),(0,c.Qr)(null===e||void 0===e?void 0:e.Add_Rights,1)&&(0,p.jsx)(n.c,{variant:"outlined",onClick:()=>C((e=>({...e,dialog:!0}))),startIcon:(0,p.jsx)(x,{}),children:"Upload Image"})]}),(0,p.jsx)(o.c,{children:(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t.map(((e,t)=>(0,p.jsxs)("div",{children:[(0,p.jsxs)("h5",{children:["Updated At: ",(0,p.jsx)("span",{className:"text-muted",children:(null===e||void 0===e?void 0:e.modifiedTime)&&(0,c.ao)(null===e||void 0===e?void 0:e.modifiedTime)})]}),(0,p.jsx)(r.c,{title:"Click image to Download",children:(0,p.jsx)("img",{src:null===e||void 0===e?void 0:e.url,alt:"img",onClick:()=>(async e=>{try{const t=await fetch(e),a=await t.blob(),s=URL.createObjectURL(a),i=document.createElement("a");i.href=s,i.download="Inward_Activity_Image_"+(0,c.ao)(),i.click(),URL.revokeObjectURL(s)}catch(t){console.error("Failed to create object URL:",t)}})(null===e||void 0===e?void 0:e.url),style:{maxWidth:"100%",maxHeight:700,marginTop:10,cursor:"pointer"}})})]},t))))}),(0,p.jsxs)(l.c,{open:b.dialog,onClose:N,fullWidth:!0,maxWidth:"lg",children:[(0,p.jsx)(d.c,{children:"Upload Inward Activity"}),(0,p.jsxs)(m.c,{children:[(0,p.jsx)("textarea",{type:"file",className:"drag-and-drop mt-2",onPaste:async e=>{const t=e.clipboardData.items;for(const a of t)if(a.type.startsWith("image/")){const e=a.getAsFile();C((t=>({...t,image:e})));break}},placeholder:"Paste Excel Rows...",rows:4}),(0,p.jsxs)("div",{className:" d-flex align-items-center my-2",children:[(0,p.jsx)("hr",{className:"w-100"}),(0,p.jsx)("span",{className:"px-4",children:"OR"}),(0,p.jsx)("hr",{className:"w-100"})]}),(0,p.jsxs)("label",{className:"w-100",children:["Select File To Upload ( ",[".jpg",".jpeg",".png",".gif",".bmp",".tiff",".webp"].join(", ")," )"]}),(0,p.jsx)("input",{type:"file",className:"cus-inpt mt-2",style:{backgroundColor:"#eaf4fe",borderColor:"#66afe9"},onChange:e=>C((t=>({...t,image:e.target.files[0]}))),accept:"image/*"}),b.image&&(0,p.jsx)("img",{src:URL.createObjectURL(b.image),alt:"Pasted",style:{maxWidth:"100%",maxHeight:700,marginTop:10}})]}),(0,p.jsxs)(h.c,{children:[(0,p.jsx)(n.c,{onClick:N,children:"cancel"}),(0,p.jsx)(n.c,{onClick:()=>{const e=new FormData;e.append("image",b.image),null!==b&&void 0!==b&&b.image&&fetch("".concat(f.c,"dataEntry/inwardActivity"),{method:"POST",body:e}).then((e=>e.json())).then((e=>{e.success?(i.m4.success(e.message),N(),v(!u)):i.m4.error(e.message)})).catch((e=>console.error(e)))},className:"",variant:"outlined",children:"submit"})]})]})]})},w=()=>{const{contextObj:e}=(0,s.useContext)(g.a),[t,a]=(0,s.useState)([]),[u,v]=(0,s.useState)(!1),w={image:"",dialog:!1},[b,C]=(0,s.useState)(w);(0,s.useEffect)((()=>{(0,j.q)({address:"dataEntry/machineOutern"}).then((e=>a(e.data))).catch((e=>console.error(e)))}),[u]);const N=()=>{C(w)};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"p-3 pt-0 fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,p.jsx)("span",{children:"Machine Outern Activities"}),(0,c.Qr)(null===e||void 0===e?void 0:e.Add_Rights,1)&&(0,p.jsx)(n.c,{variant:"outlined",onClick:()=>C((e=>({...e,dialog:!0}))),startIcon:(0,p.jsx)(x,{}),children:"Upload Image"})]}),(0,p.jsx)(o.c,{children:(null===t||void 0===t?void 0:t.length)>0&&(null===t||void 0===t?void 0:t.map(((e,t)=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("h5",{children:["Updated At: ",(0,p.jsx)("span",{className:"text-muted",children:(null===e||void 0===e?void 0:e.modifiedTime)&&(0,c.ao)(null===e||void 0===e?void 0:e.modifiedTime)})]}),(0,p.jsx)(r.c,{title:"Click image to Download",children:(0,p.jsx)("img",{src:null===e||void 0===e?void 0:e.url,alt:"img",onClick:()=>(async e=>{try{const t=await fetch(e),a=await t.blob(),s=URL.createObjectURL(a),c=document.createElement("a");c.href=s,c.download="pasted-image.png",c.click(),URL.revokeObjectURL(s)}catch(t){console.error("Failed to create object URL:",t)}})(e),style:{maxWidth:"100%",maxHeight:700,marginTop:10,cursor:"pointer"}},t)})]}))))}),(0,p.jsxs)(l.c,{open:b.dialog,onClose:N,fullWidth:!0,maxWidth:"lg",children:[(0,p.jsx)(d.c,{children:"Upload MachineOutern Activity"}),(0,p.jsxs)(m.c,{children:[(0,p.jsx)("textarea",{type:"file",className:"drag-and-drop mt-2",onPaste:async e=>{const t=e.clipboardData.items;for(const a of t)if(a.type.startsWith("image/")){const e=a.getAsFile();C((t=>({...t,image:e})));break}},placeholder:"Paste Excel Rows...",rows:4}),(0,p.jsxs)("div",{className:" d-flex align-items-center my-2",children:[(0,p.jsx)("hr",{className:"w-100"}),(0,p.jsx)("span",{className:"px-4",children:"OR"}),(0,p.jsx)("hr",{className:"w-100"})]}),(0,p.jsxs)("label",{className:"w-100",children:["Select File To Upload ( ",[".jpg",".jpeg",".png",".gif",".bmp",".tiff",".webp"].join(", ")," )"]}),(0,p.jsx)("input",{type:"file",className:"cus-inpt mt-2",style:{backgroundColor:"#eaf4fe",borderColor:"#66afe9"},onChange:e=>C((t=>({...t,image:e.target.files[0]}))),accept:"image/*"}),b.image&&(0,p.jsx)("img",{src:URL.createObjectURL(b.image),alt:"Pasted",style:{maxWidth:"100%",maxHeight:700,marginTop:10}})]}),(0,p.jsxs)(h.c,{children:[(0,p.jsx)(n.c,{onClick:N,children:"cancel"}),(0,p.jsx)(n.c,{onClick:()=>{const e=new FormData;e.append("image",b.image),null!==b&&void 0!==b&&b.image&&fetch("".concat(f.c,"dataEntry/machineOutern"),{method:"POST",body:e}).then((e=>e.json())).then((e=>{e.success?(i.m4.success(e.message),N(),v(!u)):i.m4.error(e.message)})).catch((e=>console.error(e)))},className:"",variant:"outlined",children:"submit"})]})]})]})};var b=a(43692);const C=()=>{const[e,t]=(0,s.useState)("INWARD");return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(b.c,{children:[(0,p.jsxs)("div",{className:"p-2 fa-16 fw-bold d-flex justify-content-between align-items-center",children:[(0,p.jsx)("span",{className:"text-primary text-uppercase ps-3",children:"file Uploads"}),(0,p.jsx)("select",{className:"cus-inpt w-auto",value:e,onChange:e=>t(e.target.value),children:["INWARD","MACHINE OUTERN"].map(((e,t)=>(0,p.jsx)("option",{value:e,children:e},t)))})]}),(0,p.jsx)("hr",{className:"mt-0"}),(e=>{switch(e){case"INWARD":return(0,p.jsx)(v,{});case"MACHINE OUTERN":return(0,p.jsx)(w,{});default:return(0,p.jsx)(p.Fragment,{})}})(e)]})})}},84436:(e,t,a)=>{a.d(t,{c:()=>g});var s=a(45072),c=a(95656),i=a(69060),n=a(79736),o=a(21412),r=a(12556),l=a(49836),d=a(10099),m=a(33448);function h(e){return(0,m.cp)("MuiCardContent",e)}(0,d.c)("MuiCardContent",["root"]);var u=a(82496);const p=["className","component"],x=(0,r.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),g=i.forwardRef((function(e,t){const a=(0,l.C)({props:e,name:"MuiCardContent"}),{className:i,component:r="div"}=a,d=(0,c.c)(a,p),m=(0,s.c)({},a,{component:r}),g=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},h,t)})(m);return(0,u.jsx)(x,(0,s.c)({as:r,className:(0,n.c)(g.root,i),ownerState:m,ref:t},d))}))},43692:(e,t,a)=>{a.d(t,{c:()=>j});var s=a(45072),c=a(95656),i=a(69060),n=a(79736),o=a(21412),r=a(12556),l=a(49836),d=a(85624),m=a(10099),h=a(33448);function u(e){return(0,h.cp)("MuiCard",e)}(0,m.c)("MuiCard",["root"]);var p=a(82496);const x=["className","raised"],g=(0,r.cp)(d.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),j=i.forwardRef((function(e,t){const a=(0,l.C)({props:e,name:"MuiCard"}),{className:i,raised:r=!1}=a,d=(0,c.c)(a,x),m=(0,s.c)({},a,{raised:r}),h=(e=>{const{classes:t}=e;return(0,o.c)({root:["root"]},u,t)})(m);return(0,p.jsx)(g,(0,s.c)({className:(0,n.c)(h.root,i),elevation:r?8:void 0,ref:t,ownerState:m},d))}))}}]);
//# sourceMappingURL=1996.5ce7da4e.chunk.js.map