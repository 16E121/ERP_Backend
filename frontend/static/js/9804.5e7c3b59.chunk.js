"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9804],{89804:(e,r,a)=>{a.r(r),a.d(r,{default:()=>D});var s=a(69060),t=a(13724),l=a(1908),d=a(39308),i=a(43692),c=a(5548),n=a(89e3),o=a(84436),h=a(82656),u=a(26773),x=a(4488),O=a(90048),j=a(51560),p=a(61988),m=a(46088),v=a(56480),E=a(76456),R=a(82496);const D=e=>{let{loadingOn:r,loadingOff:a}=e;const[D,T]=(0,s.useState)([]),[g,y]=(0,s.useState)({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1}),S=(0,j.i6)(),[I,A]=(0,s.useState)({Fromdate:(0,d.SO)(10),Todate:(0,d.Q7)(),FilterDialog:!1,OrderStatus:"ITEMS",deleteOrderDialog:!1,deleteOrderId:"",refresh:!1,view:"PURCHASE ORDERS"});(0,s.useEffect)((()=>{(0,l.q)({address:"dataEntry/purchaseOrderEntry?Fromdate=".concat(null===I||void 0===I?void 0:I.Fromdate,"&Todate=").concat(null===I||void 0===I?void 0:I.Todate)}).then((e=>{e.success&&T(e.data)})).catch((e=>console.error(e)))}),[I.Fromdate,I.Todate,I.refresh]);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(i.c,{children:[(0,R.jsxs)("div",{className:"p-2 d-flex flex-wrap align-items-center",children:[(0,R.jsx)("h5",{className:"m-0 flex-grow-1",children:"Purchase Order"}),(0,R.jsx)(c.c,{size:"small",className:"me-2",onClick:()=>A((e=>({...e,FilterDialog:!0}))),children:(0,R.jsx)(p.c,{})}),(0,R.jsx)(n.c,{variant:"outlined",onClick:()=>S("create"),children:"Add"})]}),(0,R.jsx)(o.c,{children:(0,R.jsx)(t.c,{dataArray:(0,m.K)({data:D,status:I.OrderStatus}),columns:(0,m.a)({OrderStatus:I.OrderStatus,dialogs:A,setOrderPreview:y,navigation:e=>{let{page:r="",stateToTransfer:a={}}=e;S(r,{state:a})}}),tableMaxHeight:750,EnableSerialNumber:!0,title:I.OrderStatus})})]}),g.display&&(0,R.jsx)(E.c,{OrderDetails:g.OrderDetails,OrderItemsArray:g.OrderItemsArray,DeliveryArray:g.DeliveryArray,TranspoterArray:g.TranspoterArray,display:g.display,onCloseDialog:()=>{y({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1})}}),(0,R.jsxs)(h.c,{open:I.FilterDialog,onClose:()=>A((e=>({...e,FilterDialog:!1}))),maxWidth:"sm",fullWidth:!0,children:[(0,R.jsx)(u.c,{children:"Filters"}),(0,R.jsx)(x.c,{children:(0,R.jsx)("table",{className:"table m-0 border-0",children:(0,R.jsxs)("tbody",{children:[(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{className:"border-0 vctr",children:"Fromdate"}),(0,R.jsx)("td",{className:"border-0 vctr",children:(0,R.jsx)("input",{type:"date",onChange:e=>A((r=>({...r,Fromdate:e.target.value}))),value:I.Fromdate,className:"cus-inpt p-2"})})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{className:"border-0 vctr",children:"Todate"}),(0,R.jsx)("td",{className:"border-0 vctr",children:(0,R.jsx)("input",{type:"date",onChange:e=>A((r=>({...r,Todate:e.target.value}))),value:I.Todate,className:"cus-inpt p-2"})})]}),(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{className:"border-0 vctr",children:"Order Status"}),(0,R.jsx)("td",{className:"border-0 vctr",children:(0,R.jsxs)("select",{className:"cus-inpt p-2",value:I.OrderStatus,onChange:e=>A((r=>({...r,OrderStatus:e.target.value}))),children:[(0,R.jsxs)("optgroup",{label:"ITEM BASED",children:[(0,R.jsx)("option",{value:"ITEMS",children:"ITEMS"}),(0,R.jsx)("option",{value:"ITEMS PENDING",children:"ITEMS - PENDING"}),(0,R.jsx)("option",{value:"ITEMS ARRIVED",children:"ITEMS - ARRIVED"})]}),(0,R.jsx)("optgroup",{label:"ORDER BASED",children:(0,R.jsx)("option",{value:"ORDERS",children:"ORDERS"})}),(0,R.jsxs)("optgroup",{label:"REPORTS",children:[(0,R.jsx)("option",{value:"REPORT 1",children:"REPORT 1"}),(0,R.jsx)("option",{value:"REPORT 2",children:"REPORT 2"}),(0,R.jsx)("option",{value:"REPORT 2A",children:"REPORT 2A"}),(0,R.jsx)("option",{value:"REPORT 3",children:"REPORT 3"}),(0,R.jsx)("option",{value:"REPORT 4",children:"REPORT 4"})]})]})})]})]})})}),(0,R.jsx)(O.c,{children:(0,R.jsx)(n.c,{onClick:()=>A((e=>({...e,FilterDialog:!1}))),variant:"outlined",children:"Close"})})]}),(0,R.jsxs)(h.c,{open:I.deleteOrderDialog,onClose:()=>A((e=>({...e,deleteOrderDialog:!1,deleteOrderId:""}))),maxWidth:"sm",children:[(0,R.jsx)(u.c,{children:"Confirmation"}),(0,R.jsx)(x.c,{children:(0,R.jsx)("h6",{children:"Do you want to delete the order permanently?"})}),(0,R.jsxs)(O.c,{children:[(0,R.jsx)(n.c,{onClick:()=>A((e=>({...e,deleteOrderDialog:!1,deleteOrderId:""}))),children:"Cancel"}),(0,R.jsx)(n.c,{color:"error",variant:"outlined",onClick:()=>{return e=I.deleteOrderId,void((0,d.Q$)(e)&&(0,l.q)({address:"dataEntry/purchaseOrderEntry",method:"DELETE",bodyData:{OrderId:e}}).then((e=>{e.success?(A((e=>({...e,deleteOrderDialog:!1,deleteOrderId:"",refresh:!e.refresh}))),v.m4.success(e.message)):(A((e=>({...e,deleteOrderDialog:!1,deleteOrderId:""}))),v.m4.error(e.message))})).catch((e=>console.error(e))));var e},children:"Delete"})]})]})]})}}}]);
//# sourceMappingURL=9804.5e7c3b59.chunk.js.map