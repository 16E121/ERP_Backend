"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9368],{19368:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(69060),l=a(42136),c=a(51752),n=a(5548),d=a(82656),o=a(26773),r=a(4488),i=a(75848),u=a(90048),v=a(89e3),m=a(86e3),h=a(45180),j=a(56480),x=(a(21680),a(77536)),p=a(1908),b=a(39308),N=a(82496);const f=()=>{const[e,t]=(0,s.useState)([]),a=localStorage.getItem("user"),f=JSON.parse(a),_={Project_Id:"",Project_Name:"",Project_Desc:"",Project_Head:"",Est_Start_Dt:(0,b.Q7)(),Est_End_Dt:(0,b.Q7)(),Project_Status:"",Entry_By:null===f||void 0===f?void 0:f.UserId,Company_id:null===f||void 0===f?void 0:f.Company_id},[g,y]=(0,s.useState)(_),[D,E]=(0,s.useState)(!1),[C,P]=(0,s.useState)(!1),[S,w]=(0,s.useState)(!1),[k,M]=(0,s.useState)([]),[R,q]=(0,s.useState)([]),[I,z]=(0,s.useState)(!1),{contextObj:H}=(0,s.useContext)(x.a);(0,s.useEffect)((()=>{(0,p.q)({address:"taskManagement/project?Company_id=".concat(null===f||void 0===f?void 0:f.Company_id)}).then((e=>{e.success&&t(e.data)}))}),[I,null===f||void 0===f?void 0:f.Company_id]),(0,s.useEffect)((()=>{(0,p.q)({address:"taskManagement/statusList"}).then((e=>{e.success&&M(e.data)}))}),[]),(0,s.useEffect)((()=>{(0,p.q)({address:"masters/users/employee/dropDown?Company_id=".concat(null===f||void 0===f?void 0:f.Company_id)}).then((e=>{q(e.success?e.data:[])})).catch((e=>console.error("Fetch Error:",e)))}),[null===f||void 0===f?void 0:f.Company_id]);const F=[{label:"Project Name",elem:"input",type:"text",event:e=>y({...g,Project_Name:e.target.value}),required:!0,value:null===g||void 0===g?void 0:g.Project_Name},{label:"Project Head",elem:"select",options:[...R.map((e=>({value:null===e||void 0===e?void 0:e.UserId,label:null===e||void 0===e?void 0:e.Name})))],event:e=>y({...g,Project_Head:e.target.value}),required:!0,value:null===g||void 0===g?void 0:g.Project_Head},{label:"Estimated Start Date",elem:"input",type:"date",event:e=>y({...g,Est_Start_Dt:e.target.value}),required:!0,value:null===g||void 0===g?void 0:g.Est_Start_Dt},{label:"Estimated End Date",elem:"input",type:"date",event:e=>y({...g,Est_End_Dt:e.target.value}),required:!0,value:null===g||void 0===g?void 0:g.Est_End_Dt},{label:"Project Status",elem:"select",options:[...null===k||void 0===k?void 0:k.map((e=>({value:e.Status_Id,label:e.Status})))],event:e=>y({...g,Project_Status:e.target.value}),required:!0,value:null===g||void 0===g?void 0:g.Project_Status},{label:"Description",elem:"textarea",type:"text",event:e=>y({...g,Project_Desc:e.target.value}),required:!0,value:null===g||void 0===g?void 0:g.Project_Desc}],O=()=>{y(_),E(!D),P(!1)},T=e=>{w(!S),y(e)};return(0,N.jsxs)(s.Fragment,{children:[D?(0,N.jsxs)("div",{className:"card",children:[(0,N.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:[C?"Edit Projects":"Create Project",(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(l.c,{onClick:()=>O(),className:"rounded-5 px-3 py-1 fa-13 shadow",children:"Back"})})]}),(0,N.jsx)("div",{className:"card-body",children:(0,N.jsx)("div",{className:"row",children:F.map(((e,t)=>(0,N.jsxs)("div",{className:"col-lg-4 col-md-6 p-2 px-3",children:[(0,N.jsx)("label",{children:e.label}),"input"===e.elem?(0,N.jsx)("input",{type:e.type||"text",className:"cus-inpt",onChange:e.event,onInput:e.oninput,disabled:e.disabled,value:e.value}):"select"===e.elem?(0,N.jsxs)("select",{className:"cus-inpt",onChange:e.event,value:e.value,children:[(0,N.jsx)("option",{value:"",children:"select"}),e.options.map(((e,t)=>(0,N.jsx)("option",{value:e.value,disabled:e.disabled,defaultValue:e.selected,children:e.label},t)))]}):"textarea"===e.elem?(0,N.jsx)("textarea",{className:"cus-inpt",onChange:e.event,rows:4,value:e.value}):null]},t)))})}),(0,N.jsxs)("div",{className:"card-footer d-flex justify-content-end bg-white",children:[(0,N.jsx)(l.c,{onClick:()=>{O()},className:"rounded-5 px-4 mx-1 btn-light bg-white",children:"Cancel"}),(0,N.jsx)(l.c,{onClick:C?()=>{(0,p.q)({address:"taskManagement/project",method:"PUT",bodyData:g}).then((e=>{e.success?(O(),z(!I),j.m4.success(e.message)):j.m4.error(e.message)})).catch((e=>console.error("Fetch Error:",e)))}:()=>{(0,p.q)({address:"taskManagement/project",method:"POST",bodyData:g}).then((e=>{e.success?(O(),z(!I),j.m4.success(e.message)):j.m4.error(e.message)})).catch((e=>console.error("Fetch Error:",e)))},className:"rounded-5 px-4 shadow mx-1",children:C?"Update":"Create Project"})]})]}):(0,N.jsxs)("div",{className:"card",children:[(0,N.jsxs)("div",{className:"card-header bg-white fw-bold d-flex align-items-center justify-content-between",children:["Projects",1===Number(null===H||void 0===H?void 0:H.Add_Rights)&&(0,N.jsx)("div",{className:"text-end",children:(0,N.jsx)(l.c,{onClick:()=>O(),className:"rounded-5 px-3 py-1 fa-13 shadow",children:D?"Back":"Create Project"})})]}),(0,N.jsx)("div",{className:"card-body",children:(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)(c.c,{children:[(0,N.jsx)("thead",{children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{className:"fa-14",children:"S.No"}),(0,N.jsx)("th",{className:"fa-14",children:"Project"}),(0,N.jsx)("th",{className:"fa-14",children:"Description"}),(0,N.jsx)("th",{className:"fa-14",children:"Head"}),(0,N.jsx)("th",{className:"fa-14",children:"Start At"}),(0,N.jsx)("th",{className:"fa-14",children:"End At"}),(1===Number(null===H||void 0===H?void 0:H.Edit_Rights)||1===Number(null===H||void 0===H?void 0:H.Delete_Rights))&&(0,N.jsx)("th",{className:"fa-14",children:"Action"})]})}),(0,N.jsx)("tbody",{children:e.map(((e,t)=>(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"fa-12",children:t+1}),(0,N.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.Project_Name}),(0,N.jsx)("td",{className:"fa-12",children:null!==e&&void 0!==e&&e.Project_Desc?null===e||void 0===e?void 0:e.Project_Desc:" - "}),(0,N.jsx)("td",{className:"fa-12",children:null===e||void 0===e?void 0:e.Project_Head_Name}),(0,N.jsx)("td",{className:"fa-12",children:new Date(null===e||void 0===e?void 0:e.Est_Start_Dt).toLocaleDateString("en-IN")}),(0,N.jsx)("td",{style:{fontSize:"12px"},children:new Date(null===e||void 0===e?void 0:e.Est_End_Dt).toLocaleDateString("en-IN")}),(1===Number(null===H||void 0===H?void 0:H.Edit_Rights)||1===Number(null===H||void 0===H?void 0:H.Delete_Rights))&&(0,N.jsxs)("td",{children:[1===Number(null===H||void 0===H?void 0:H.Edit_Rights)&&(0,N.jsx)(n.c,{onClick:()=>{var t;t=e,O(),y({...t,Est_Start_Dt:t.Est_Start_Dt?(0,b.Q7)(t.Est_Start_Dt):"",Est_End_Dt:t.Est_End_Dt?(0,b.Q7)(t.Est_End_Dt):""}),P(!0)},size:"small",children:(0,N.jsx)(m.c,{className:"fa-in"})}),1===Number(null===H||void 0===H?void 0:H.Delete_Rights)&&(0,N.jsx)(n.c,{onClick:()=>{T(e)},size:"small",children:(0,N.jsx)(h.c,{className:"fa-in del-red"})})]})]},t)))})]})})})]}),(0,N.jsxs)(d.c,{open:S,onClose:T,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,N.jsx)(o.c,{id:"alert-dialog-title",children:"Confirmation"}),(0,N.jsx)(r.c,{children:(0,N.jsx)(i.c,{id:"alert-dialog-description",children:(0,N.jsx)("b",{children:"Do you want to delete the ".concat((null===g||void 0===g?void 0:g.Project_Name)&&(null===g||void 0===g?void 0:g.Project_Name)," Branch?")})})}),(0,N.jsxs)(u.c,{children:[(0,N.jsx)(v.c,{onClick:T,children:"Cancel"}),(0,N.jsx)(v.c,{onClick:()=>{(0,p.q)({address:"taskManagement/project",method:"DELETE",bodyData:{Project_Id:null===g||void 0===g?void 0:g.Project_Id}}).then((e=>{e.success?(z(!I),j.m4.success(e.message),y(_),w(!1)):j.m4.error(e.message)})).catch((e=>console.error("Fetch Error:",e)))},autoFocus:!0,sx:{color:"red"},children:"Delete"})]})]})]})}},45180:(e,t,a)=>{a.d(t,{c:()=>c});var s=a(27664),l=a(82496);const c=(0,s.c)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},86e3:(e,t,a)=>{a.d(t,{c:()=>c});var s=a(27664),l=a(82496);const c=(0,s.c)((0,l.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},75848:(e,t,a)=>{a.d(t,{c:()=>b});var s=a(95656),l=a(45072),c=a(69060),n=a(79736),d=a(21412),o=a(12556),r=a(43424),i=a(49836),u=a(56880),v=a(10099),m=a(33448);function h(e){return(0,m.cp)("MuiDialogContentText",e)}(0,v.c)("MuiDialogContentText",["root"]);var j=a(82496);const x=["children","className"],p=(0,o.cp)(u.c,{shouldForwardProp:e=>(0,r.c)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),b=c.forwardRef((function(e,t){const a=(0,i.C)({props:e,name:"MuiDialogContentText"}),{className:c}=a,o=(0,s.c)(a,x),r=(e=>{const{classes:t}=e,a=(0,d.c)({root:["root"]},h,t);return(0,l.c)({},t,a)})(o);return(0,j.jsx)(p,(0,l.c)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:(0,n.c)(r.root,c)},a,{classes:r}))}))},16344:(e,t,a)=>{a.d(t,{cV:()=>n,cp:()=>o});var s=a(69060),l=a(82496);const c=["as","disabled"];function n(e){let{tagName:t,disabled:a,href:s,target:l,rel:c,role:n,onClick:d,tabIndex:o=0,type:r}=e;t||(t=null!=s||null!=l||null!=c?"a":"button");const i={tagName:t};if("button"===t)return[{type:r||"button",disabled:a},i];const u=e=>{(a||"a"===t&&function(e){return!e||"#"===e.trim()}(s))&&e.preventDefault(),a?e.stopPropagation():null==d||d(e)};return"a"===t&&(s||(s="#"),a&&(s=void 0)),[{role:null!=n?n:"button",disabled:void 0,tabIndex:a?void 0:o,href:s,target:"a"===t?l:void 0,"aria-disabled":a||void 0,rel:"a"===t?c:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},i]}const d=s.forwardRef(((e,t)=>{let{as:a,disabled:s}=e,d=function(e,t){if(null==e)return{};var a,s,l={},c=Object.keys(e);for(s=0;s<c.length;s++)a=c[s],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,c);const[o,{tagName:r}]=n(Object.assign({tagName:a,disabled:s},d));return(0,l.jsx)(r,Object.assign({},d,o,{ref:t}))}));d.displayName="Button";const o=d},42136:(e,t,a)=>{a.d(t,{c:()=>i});var s=a(264),l=a.n(s),c=a(69060),n=a(16344),d=a(83576),o=a(82496);const r=c.forwardRef(((e,t)=>{let{as:a,bsPrefix:s,variant:c="primary",size:r,active:i=!1,disabled:u=!1,className:v,...m}=e;const h=(0,d.Ky)(s,"btn"),[j,{tagName:x}]=(0,n.cV)({tagName:a,disabled:u,...m}),p=x;return(0,o.jsx)(p,{...j,...m,ref:t,disabled:u,className:l()(v,h,i&&"active",c&&"".concat(h,"-").concat(c),r&&"".concat(h,"-").concat(r),m.href&&u&&"disabled")})}));r.displayName="Button";const i=r},51752:(e,t,a)=>{a.d(t,{c:()=>o});var s=a(264),l=a.n(s),c=a(69060),n=a(83576),d=a(82496);const o=c.forwardRef(((e,t)=>{let{bsPrefix:a,className:s,striped:c,bordered:o,borderless:r,hover:i,size:u,variant:v,responsive:m,...h}=e;const j=(0,n.Ky)(a,"table"),x=l()(s,j,v&&"".concat(j,"-").concat(v),u&&"".concat(j,"-").concat(u),c&&"".concat(j,"-").concat("string"===typeof c?"striped-".concat(c):"striped"),o&&"".concat(j,"-bordered"),r&&"".concat(j,"-borderless"),i&&"".concat(j,"-hover")),p=(0,d.jsx)("table",{...h,className:x,ref:t});if(m){let e="".concat(j,"-responsive");return"string"===typeof m&&(e="".concat(e,"-").concat(m)),(0,d.jsx)("div",{className:e,children:p})}return p}))}}]);
//# sourceMappingURL=9368.d0e788d2.chunk.js.map