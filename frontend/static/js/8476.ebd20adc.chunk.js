"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[8476],{28476:(e,s,r)=>{r.r(s),r.d(s,{default:()=>M});var n=r(69060),a=r(1908),l=r(39308),t=r(5548),d=r(43692),c=r(89e3),i=r(84436),o=r(82656),u=r(26773),x=r(4488),m=r(90048),h=r(41459),v=r(46864),p=r(86e3),j=r(56480),N=r(82496);const b={Id:"",MenuName:"",PageUrl:"",ParentId:0,isActive:1,OrderNo:1,menuType:"MainMenu"},M=()=>{const[e,s]=(0,n.useState)([]),[r,M]=(0,n.useState)(!1),[g,f]=(0,n.useState)(b),[C,S]=(0,n.useState)(!1),[y,A]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,a.q)({address:"authorization/menuMaster"}).then((e=>{if(e.success){var r;const n=null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.sort(((e,s)=>e.OrderNo&&s.OrderNo?e.OrderNo-s.OrderNo:s.OrderNo-e.OrderNo));s(n)}})).catch((e=>console.error(e)))}),[r]);const I=()=>{f(b),S(!1),A(!1)},O=e=>{var s,r,a;let{o:d,i:c}=e;const[i,o]=(0,n.useState)(!1);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"fa-13 border text-center",children:0!==Number(null===d||void 0===d||null===(s=d.SubMenu)||void 0===s?void 0:s.length)&&(0,N.jsx)(t.c,{size:"small",className:"p-1",onClick:()=>o((e=>!e)),children:i?(0,N.jsx)(h.c,{sx:{fontSize:"18px"}}):(0,N.jsx)(v.c,{sx:{fontSize:"18px"}})})}),(0,N.jsx)("td",{className:"fa-13 border text-center",children:c+1}),(0,N.jsx)("td",{className:"fa-13 border",children:null===d||void 0===d?void 0:d.MenuName}),(0,N.jsx)("td",{className:"fa-13 border",children:null===d||void 0===d?void 0:d.PageUrl}),(0,N.jsx)("td",{className:"fa-13 border text-center",children:null!==(r=d.OrderNo)&&void 0!==r?r:"-"}),(0,N.jsx)("td",{className:"fa-12  border text-center",children:(0,l.Qr)(null===d||void 0===d?void 0:d.Active,1)?(0,N.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-success",children:"Active"}):(0,N.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-danger",children:"In-Active"})}),(0,N.jsx)("td",{className:"fa-13 border text-center",children:(0,N.jsx)(t.c,{size:"small",className:"p-1",onClick:()=>{f((e=>({...e,Id:d.Id,MenuName:d.MenuName,PageUrl:d.PageUrl,isActive:d.Active,OrderNo:Number(d.OrderNo),ParentId:"",menuType:"MainMenu"}))),S(!0)},children:(0,N.jsx)(p.c,{sx:{fontSize:"18px"}})})})]}),i&&(0,N.jsx)("tr",{children:(0,N.jsx)("td",{className:"p-2",colSpan:7,children:(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)("table",{className:"table",children:[(0,N.jsx)("thead",{children:(0,N.jsx)("tr",{children:["Sno","MainMenu","Address","OrderNo","Status","Action"].map(((e,s)=>(0,N.jsx)("th",{className:"fa-13 border text-center",children:e},s)))})}),(0,N.jsx)("tbody",{children:null===d||void 0===d||null===(a=d.SubMenu)||void 0===a?void 0:a.map(((e,s)=>{var r;return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{className:"fa-13 border text-center",children:s+1}),(0,N.jsx)("td",{className:"fa-13 border",children:null===e||void 0===e?void 0:e.SubMenuName}),(0,N.jsx)("td",{className:"fa-13 border",children:null===e||void 0===e?void 0:e.PageUrl}),(0,N.jsx)("td",{className:"fa-13 border text-center",children:null!==(r=e.OrderNo)&&void 0!==r?r:"-"}),(0,N.jsx)("td",{className:"fa-12  border text-center",children:(0,l.Qr)(null===e||void 0===e?void 0:e.Active,1)?(0,N.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-success",children:"Active"}):(0,N.jsx)("span",{className:"px-3 py-1 rounded-3 text-white bg-danger",children:"In-Active"})}),(0,N.jsx)("td",{className:"fa-13 border text-center",children:(0,N.jsx)(t.c,{size:"small",className:"p-1",onClick:()=>{f((s=>({...s,Id:null===e||void 0===e?void 0:e.Id,MenuName:null===e||void 0===e?void 0:e.SubMenuName,PageUrl:null===e||void 0===e?void 0:e.PageUrl,isActive:null===e||void 0===e?void 0:e.Active,OrderNo:0,ParentId:null===d||void 0===d?void 0:d.Id,menuType:"SubMenu"}))),S(!0)},children:(0,N.jsx)(p.c,{sx:{fontSize:"18px"}})})})]},s)}))})]})})})})]})};return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(d.c,{children:[(0,N.jsxs)("div",{className:"px-3 py-2 border-bottom d-flex justify-content-between align-items-center",children:[(0,N.jsx)("h5",{children:"Menu Management"}),(0,N.jsx)(c.c,{variant:"outlined",onClick:()=>{f(b),S(!0)},children:"Add Menu"})]}),(0,N.jsx)(i.c,{children:(0,N.jsx)("div",{className:"table-responsive",children:(0,N.jsxs)("table",{className:"table",children:[(0,N.jsx)("thead",{children:(0,N.jsx)("tr",{children:["#","Sno","MainMenu","Address","OrderNo","Status","Action"].map(((e,s)=>(0,N.jsx)("th",{className:"fa-13 border text-center",children:e},s)))})}),(0,N.jsx)("tbody",{children:e.map(((e,s)=>(0,N.jsx)(O,{o:e,i:s},s)))})]})})})]}),(0,N.jsxs)(o.c,{open:C,onClose:I,fullWidth:!0,maxWidth:"lg",children:[(0,N.jsx)(u.c,{children:g.Id?"Update Menu":"Create Menu"}),(0,N.jsxs)("form",{onSubmit:e=>{e.preventDefault(),A(!0),(0,a.q)({address:"authorization/menuMaster",method:(0,l.Q$)(g.Id)?"PUT":"POST",bodyData:g}).then((e=>{e.success?(j.m4.success(e.message),M((e=>!e))):j.m4.error(e.message)})).catch((e=>console.error(e))).finally(I)},children:[(0,N.jsx)(x.c,{children:(0,N.jsxs)("div",{className:"row",children:[(0,N.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,N.jsx)("label",{children:"Menu Type"}),(0,N.jsxs)("select",{value:g.menuType,onChange:e=>f((s=>({...s,menuType:e.target.value}))),className:"cus-inpt",required:!0,children:[(0,N.jsx)("option",{value:"MainMenu",children:"Main Menu"}),(0,N.jsx)("option",{value:"SubMenu",children:"Sub Menu"})]})]}),(0,N.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,N.jsx)("label",{children:"Menu Name"}),(0,N.jsx)("input",{className:"cus-inpt ",value:g.MenuName,onChange:e=>f((s=>({...s,MenuName:e.target.value}))),maxLength:15,required:!0})]}),(0,N.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,N.jsx)("label",{children:"Page Url"}),(0,N.jsx)("input",{className:"cus-inpt ",value:g.PageUrl,onChange:e=>f((s=>({...s,PageUrl:e.target.value}))),maxLength:100,required:!1})]}),"MainMenu"===g.menuType&&(0,N.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,N.jsx)("label",{children:"Order No"}),(0,N.jsx)("input",{className:"cus-inpt ",type:"number",value:g.OrderNo,onChange:e=>f((s=>({...s,OrderNo:e.target.value}))),min:0})]}),"SubMenu"===g.menuType&&(0,N.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,N.jsx)("label",{children:"Main Menu"}),(0,N.jsxs)("select",{value:g.ParentId,onChange:e=>f((s=>({...s,ParentId:e.target.value}))),className:"cus-inpt",required:!0,children:[(0,N.jsx)("option",{value:0,children:" - Select -"}),e.map(((e,s)=>!e.PageUrl&&(0,N.jsx)("option",{value:Number(null===e||void 0===e?void 0:e.Id),children:null===e||void 0===e?void 0:e.MenuName},s)))]})]}),g.Id&&(0,N.jsxs)("div",{className:"col-lg-4 col-md-6 p-2",children:[(0,N.jsx)("label",{children:"Active Status"}),(0,N.jsxs)("select",{value:Number(g.isActive),onChange:e=>f((s=>({...s,isActive:Number(e.target.value)}))),className:"cus-inpt",required:!0,disabled:(0,l.Qr)(g.Id,8),children:[(0,N.jsx)("option",{value:"",children:" - Select -"}),(0,N.jsx)("option",{value:Number(1),children:"Active"}),(0,N.jsx)("option",{value:Number(0),children:"In-Active"})]})]})]})}),(0,N.jsxs)(m.c,{children:[(0,N.jsx)(c.c,{type:"button",onClick:I,children:"cancel"}),(0,N.jsx)(c.c,{variant:"outlined",type:"submit",disabled:y,children:g.Id?"Update":"Create"})]})]})]})]})}},86e3:(e,s,r)=>{r.d(s,{c:()=>l});var n=r(27664),a=r(82496);const l=(0,n.c)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},84436:(e,s,r)=>{r.d(s,{c:()=>p});var n=r(45072),a=r(95656),l=r(69060),t=r(79736),d=r(21412),c=r(12556),i=r(49836),o=r(10099),u=r(33448);function x(e){return(0,u.cp)("MuiCardContent",e)}(0,o.c)("MuiCardContent",["root"]);var m=r(82496);const h=["className","component"],v=(0,c.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,s)=>s.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),p=l.forwardRef((function(e,s){const r=(0,i.C)({props:e,name:"MuiCardContent"}),{className:l,component:c="div"}=r,o=(0,a.c)(r,h),u=(0,n.c)({},r,{component:c}),p=(e=>{const{classes:s}=e;return(0,d.c)({root:["root"]},x,s)})(u);return(0,m.jsx)(v,(0,n.c)({as:c,className:(0,t.c)(p.root,l),ownerState:u,ref:s},o))}))},43692:(e,s,r)=>{r.d(s,{c:()=>j});var n=r(45072),a=r(95656),l=r(69060),t=r(79736),d=r(21412),c=r(12556),i=r(49836),o=r(85624),u=r(10099),x=r(33448);function m(e){return(0,x.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var h=r(82496);const v=["className","raised"],p=(0,c.cp)(o.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,s)=>s.root})((()=>({overflow:"hidden"}))),j=l.forwardRef((function(e,s){const r=(0,i.C)({props:e,name:"MuiCard"}),{className:l,raised:c=!1}=r,o=(0,a.c)(r,v),u=(0,n.c)({},r,{raised:c}),x=(e=>{const{classes:s}=e;return(0,d.c)({root:["root"]},m,s)})(u);return(0,h.jsx)(p,(0,n.c)({className:(0,t.c)(x.root,l),elevation:c?8:void 0,ref:s,ownerState:u},o))}))}}]);
//# sourceMappingURL=8476.ebd20adc.chunk.js.map