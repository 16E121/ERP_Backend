"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[7848],{13724:(e,l,n)=>{n.d(l,{A:()=>I,c:()=>M});var a=n(69060),t=n(93996),i=n(14696),r=n(13224),o=n(27454),s=n(700),d=n(5548),c=n(3358),u=n(66931),m=n(89500),h=n(99904),v=n(85624),p=n(33856),x=n(58612),g=n(53248),f=n(29504),b=n(5930),C=n(39308),j=n(41459),S=n(46864),y=n(4284),w=n(76491),N=n(10728),A=n(49608),F=n(28064),D=(n(37692),n(35832)),k=n(82496);const _=(e,l)=>e.map((e=>{const n={};return l.forEach(((l,a)=>{if(l.isVisible||l.Defult_Display)if(l.isCustomCell&&l.Cell){const t=l.Cell({row:e}),i=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(a+1);"string"!==typeof t&&"number"!==typeof t&&"bigint"!==typeof t||(n[i]=t)}else{let a=l.Field_Name;n[a]=e[a]||""}})),n})),I=function(){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{isVisible:1,Field_Name:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",Fied_Data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",align:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",verticalAlign:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"middle",...e&&{ColumnHeader:e}}},P=e=>{let{dataArray:l=[],columns:n=[],onClickFun:I=null,isExpendable:P=!1,expandableComp:M=null,tableMaxHeight:R=550,initialPageCount:O=20,EnableSerialNumber:E=!1,CellSize:H="small",disablePagination:B=!1,title:Q="",PDFPrintOption:z=!1,ExcelPrintOption:L=!1,maxHeightOption:V=!1,ButtonArea:T=null,MenuButtons:G=[]}=e;const[W,$]=(0,a.useState)(0),[K,Z]=(0,a.useState)(O),[q,U]=(0,a.useState)([]),[J,X]=(0,a.useState)(!0),Y=J&&V?" max-content ":R,ee=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],le=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],ne=(e=>{if(!q.length)return e;return[...e].sort(((e,l)=>{for(const n of q){const{columnId:a,direction:t}=n,i=e[a],r=l[a];if(i!==r)return"asc"===t?i>r?1:-1:i<r?1:-1}return 0}))})(l),ae=W*K,te=ae+K,ie=ne.slice(ae,te),re=(e,l)=>{switch(l){case"number":return(0,C.SA)(e);case"date":return(0,C.uy)(e);case"time":return(0,C.AX)(e);case"string":return e;default:return""}},oe=e=>{let{row:l,index:t}=e;const[i,r]=(0,a.useState)(!1),c="20px";return(0,k.jsxs)(a.Fragment,{children:[(0,k.jsxs)(o.c,{children:[!0===P&&M&&(0,k.jsx)(s.c,{className:"fa-13 border-end text-center vtop",children:(0,k.jsx)(d.c,{size:"small",onClick:()=>r((e=>!e)),children:i?(0,k.jsx)(j.c,{sx:{fontSize:c}}):(0,k.jsx)(S.c,{sx:{fontSize:c}})})}),!0===E&&(0,k.jsx)(s.c,{className:"fa-13 border-end text-center vtop",children:K*W+t+1}),null===n||void 0===n?void 0:n.map(((e,n)=>{var a,t;return((0,C.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,C.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&(!1!==Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell?(0,k.jsx)(s.c,{className:"fa-13 border-end "+(e.align?null===(a=ee.find((l=>l.type===String(e.align).toLowerCase())))||void 0===a?void 0:a.class:"")+(e.verticalAlign?null===(t=le.find((l=>l.type===String(e.verticalAlign).toLowerCase())))||void 0===t?void 0:t.class:" vctr "),children:e.Cell({row:l,Field_Name:e.Field_Name})},n):Object.entries(l).map((a=>{var t,i;let[r,o]=a;return e.Field_Name===r&&((0,C.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,C.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&(0,k.jsx)(s.c,{className:"fa-13 border-end "+(e.align?null===(t=ee.find((l=>l.type===String(e.align).toLowerCase())))||void 0===t?void 0:t.class:"")+(e.verticalAlign?null===(i=le.find((l=>l.type===String(e.verticalAlign).toLowerCase())))||void 0===i?void 0:i.class:" vctr "),onClick:()=>I?I(l):console.log("Function not supplied"),children:re(o,null===e||void 0===e?void 0:e.Fied_Data)},n)})))}))]}),!0===P&&M&&i&&(0,k.jsx)(o.c,{children:(0,k.jsx)(s.c,{colSpan:Number(null===n||void 0===n?void 0:n.length)+(!0===E?2:1),children:M({row:l,index:t})})})]})},se=()=>{const[e,o]=(0,a.useState)(null),s=Boolean(e);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(c.c,{title:"Export options and more...",children:(0,k.jsx)(d.c,{"aria-describedby":s,onClick:e=>{o(e.currentTarget)},className:"ms-2",size:"small",children:(0,k.jsx)(y.c,{})})}),(0,k.jsx)(u.cp,{open:s,anchorEl:e,onClose:()=>{o(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,k.jsxs)(m.c,{children:[V&&(0,k.jsxs)(t.c,{onClick:()=>X((e=>!e)),disabled:(0,C.Qr)(null===l||void 0===l?void 0:l.length,0),children:[(0,k.jsx)(i.c,{children:J?(0,k.jsx)(w.c,{fontSize:"small",color:"primary"}):(0,k.jsx)(N.c,{fontSize:"small"})}),(0,k.jsx)(r.c,{color:J?"success":"",children:"Max Height"})]}),z&&(0,k.jsxs)(t.c,{onClick:()=>((e,l)=>{try{const n=new F.default,a=_(e,l),t=l.filter((e=>e.isVisible||e.Defult_Display)).map((e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase())),i=a.map((e=>t.map((l=>e[l])))).map(((e,l)=>({...e,Sno:l+1})));n.autoTable({head:[t],body:i}),n.save("table.pdf")}catch(n){console.error(n)}})(l,n),disabled:(0,C.Qr)(null===l||void 0===l?void 0:l.length,0),children:[(0,k.jsx)(i.c,{children:(0,k.jsx)(A.c,{fontSize:"small",color:"primary"})}),(0,k.jsx)(r.c,{children:"Download PDF"})]}),L&&(0,k.jsxs)(t.c,{onClick:()=>((e,l)=>{try{const n=_(e,l),a=D.c$.json_to_sheet(n),t=D.c$.book_new();D.c$.book_append_sheet(t,a,"Data"),D.a8(t,"table.xlsx")}catch(n){console.error(n)}})(l,n),disabled:(0,C.Qr)(null===l||void 0===l?void 0:l.length,0),children:[(0,k.jsx)(i.c,{children:(0,k.jsx)(A.c,{fontSize:"small",color:"primary"})}),(0,k.jsx)(r.c,{children:"Download Excel"})]}),G.map((e=>function(e,l,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,k.jsxs)(t.c,{onClick:n,disabled:a,children:[(0,k.jsx)(i.c,{children:l}),(0,k.jsx)(r.c,{children:e})]})}(e.name,e.icon,e.onclick,e.disabled)))]})})]})};return(0,k.jsxs)("div",{className:"rounded-3 bg-white overflow-hidden",children:[(0,k.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(z||L||G.length>0||V)&&(0,k.jsx)(se,{}),T&&T,Q&&(0,k.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:Q})]}),(0,k.jsx)(h.c,{component:v.c,sx:{maxHeight:Y},children:(0,k.jsxs)(p.c,{stickyHeader:!0,size:H,children:[(0,k.jsx)(x.c,{children:(0,k.jsxs)(o.c,{children:[P&&M&&(0,k.jsx)(s.c,{className:"fa-13 fw-bold border-end border-top text-center",style:{backgroundColor:"#EDF0F7"},children:"#"}),E&&(0,k.jsx)(s.c,{className:"fa-13 fw-bold border-end border-top text-center",style:{backgroundColor:"#EDF0F7"},children:"SNo"}),n.map(((e,l)=>{const n=(0,C.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,C.Qr)(null===e||void 0===e?void 0:e.isVisible,1),a=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,t=q.find((l=>l.columnId===e.Field_Name)),i=t?t.direction:"asc";var r,o,d,c;return n?a?(0,k.jsx)(s.c,{className:"fa-13 fw-bold border-end border-top "+(e.align?null===(r=ee.find((l=>l.type===String(e.align).toLowerCase())))||void 0===r?void 0:r.class:""),style:{backgroundColor:"#EDF0F7"},sortDirection:!!t&&i,children:(0,k.jsx)(g.c,{active:!!t,direction:i,onClick:()=>(e=>{const l=q.find((l=>l.columnId===e));if(l){const n="asc"===l.direction;U(q.map((l=>l.columnId===e?{...l,direction:n?"desc":"asc"}:l)))}else U([...q,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(o=e.Field_Name)||void 0===o?void 0:o.replace(/_/g," "))})},l):(0,k.jsx)(s.c,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fa-13 fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(d=ee.find((l=>l.type===String(e.align).toLowerCase())))||void 0===d?void 0:d.class:""),style:{backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},l):null}))]})}),(0,k.jsxs)(f.c,{children:[(B?ne:ie).map(((e,l)=>(0,k.jsx)(oe,{row:e,index:l},l))),0===l.length&&(0,k.jsx)(o.c,{children:(0,k.jsx)(s.c,{colSpan:n.length+(!0===P&&M?1:0)+(!0===E?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!B&&0!==ie.length&&(0,k.jsx)("div",{className:"p-2 pb-0",children:(0,k.jsx)(b.c,{component:"div",count:l.length,page:W,onPageChange:(e,l)=>{$(l)},rowsPerPage:K,onRowsPerPageChange:e=>{Z(parseInt(e.target.value,10)),$(0)},rowsPerPageOptions:Array.from(new Set([O,5,20,50,100,200,500])).sort(((e,l)=>e-l)),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};P.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[]};const M=P},62344:(e,l,n)=>{n.d(l,{o$:()=>r,o5:()=>o,cF:()=>i,iI:()=>t});const a=n.p+"static/media/smt.aa4d4f940bbebff07a57.png",t={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},i={control:(e,l)=>({...e,height:"45px",background:"rgba(255, 255, 255, 0.322)"}),menu:(e,l)=>({...e,zIndex:9999})},r=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],o=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:a,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:a,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:a,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}]},2464:(e,l,n)=>{n.r(l),n.d(l,{default:()=>v});var a=n(69060),t=n(1908),i=n(43692),r=n(84436),o=n(89e3),s=n(30612),d=n(62344),c=n(57704),u=n(39308),m=n(13724),h=n(82496);const v=e=>{let{loadingOn:l,loadingOff:n}=e;const[v,p]=(0,a.useState)([]),[x,g]=(0,a.useState)({vendor:"search",vendorId:""}),[f,b]=(0,a.useState)([]),[C,j]=(0,a.useState)(),[S,y]=(0,a.useState)([]);(0,a.useState)((()=>{(0,t.q)({address:"masters/retailers"}).then((e=>{e.success&&p(e.data)})).catch((e=>console.error(e)))}),[]);const w=(e,l)=>{if(l)y((e=>e.filter((e=>!(0,u.Qr)(null===e||void 0===e?void 0:e.Id,l)))));else{const l=f.filter((l=>(0,u.Qr)(l.OrderPK,e.OrderId)));y((n=>n.filter((l=>!(0,u.Qr)(null===l||void 0===l?void 0:l.OrderPK,e.OrderId))).concat(l)))}};return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(i.c,{children:[(0,h.jsx)("div",{className:"d-flex flex-wrap align-items-center border-bottom p-2",children:(0,h.jsx)("h5",{className:"flex-grow-1 m-0 ps-2",children:"Purchase Invoice Creation"})}),(0,h.jsxs)(r.c,{style:{minHeight:500},children:[(0,h.jsx)("label",{className:"pe-2",children:"Select Vendor For Invoice: "}),(0,h.jsxs)("div",{className:"d-flex align-self-stretch flex-wrap mb-2",children:[(0,h.jsx)("span",{className:"flex-grow-1",style:{maxWidth:"50%"},children:(0,h.jsx)(s.cp,{value:{value:x.vendorId,label:x.vendor},onChange:e=>g((l=>({...l,vendorId:e.value,vendor:e.label}))),options:[{value:"",label:"Search",isDisabled:!0},...v.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],styles:d.cF,isSearchable:!0,placeholder:"Select Vendor",maxMenuHeight:300})}),(0,h.jsx)(o.c,{variant:"outlined",className:"mx-2",onClick:()=>{return e=0,l&&l(),y([]),void(0,t.q)({address:"dataEntry/purchaseOrderEntry/delivery/partyBased?VendorId=".concat(e)}).then((e=>{e.success&&b(e.data)})).catch((e=>console.error(e))).finally((()=>{n&&n()}));var e},children:(0,h.jsx)(c.c,{})})]}),(0,h.jsx)(m.c,{dataArray:f,columns:[{isVisible:1,ColumnHeader:"#",isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,h.jsx)("div",{children:(0,h.jsx)("input",{className:"form-check-input shadow-none pointer",style:{padding:"0.7em"},type:"checkbox",checked:-1!==S.findIndex((e=>(0,u.Qr)(null===e||void 0===e?void 0:e.Id,null===l||void 0===l?void 0:l.Id))),onChange:()=>{-1!==S.findIndex((e=>(0,u.Qr)(null===e||void 0===e?void 0:e.Id,null===l||void 0===l?void 0:l.Id)))?w(l,null===l||void 0===l?void 0:l.Id):w(l)}})})}},(0,m.A)("ArrivalDate","date"),(0,m.A)("ItemName","string"),(0,m.A)("BilledRate","string"),(0,m.A)("Quantity","number"),{isVisible:1,ColumnHeader:"Weight",isCustomCell:!0,Cell:e=>{var l;let{row:n}=e;return(null!==(l=null===n||void 0===n?void 0:n.Weight)&&void 0!==l?l:0)+" "+(null===n||void 0===n?void 0:n.Units)}},(0,m.A)("PO_ID","string"),(0,m.A)("Location","string")],EnableSerialNumber:!0,disablePagination:!0,title:"Arrival Details of ".concat(x.vendor),maxHeightOption:!0})]})]})})}},57704:(e,l,n)=>{n.d(l,{c:()=>i});var a=n(27664),t=n(82496);const i=(0,a.c)((0,t.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},84436:(e,l,n)=>{n.d(l,{c:()=>x});var a=n(45072),t=n(95656),i=n(69060),r=n(79736),o=n(21412),s=n(12556),d=n(49836),c=n(10099),u=n(33448);function m(e){return(0,u.cp)("MuiCardContent",e)}(0,c.c)("MuiCardContent",["root"]);var h=n(82496);const v=["className","component"],p=(0,s.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,l)=>l.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),x=i.forwardRef((function(e,l){const n=(0,d.C)({props:e,name:"MuiCardContent"}),{className:i,component:s="div"}=n,c=(0,t.c)(n,v),u=(0,a.c)({},n,{component:s}),x=(e=>{const{classes:l}=e;return(0,o.c)({root:["root"]},m,l)})(u);return(0,h.jsx)(p,(0,a.c)({as:s,className:(0,r.c)(x.root,i),ownerState:u,ref:l},c))}))},43692:(e,l,n)=>{n.d(l,{c:()=>g});var a=n(45072),t=n(95656),i=n(69060),r=n(79736),o=n(21412),s=n(12556),d=n(49836),c=n(85624),u=n(10099),m=n(33448);function h(e){return(0,m.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var v=n(82496);const p=["className","raised"],x=(0,s.cp)(c.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,l)=>l.root})((()=>({overflow:"hidden"}))),g=i.forwardRef((function(e,l){const n=(0,d.C)({props:e,name:"MuiCard"}),{className:i,raised:s=!1}=n,c=(0,t.c)(n,p),u=(0,a.c)({},n,{raised:s}),m=(e=>{const{classes:l}=e;return(0,o.c)({root:["root"]},h,l)})(u);return(0,v.jsx)(x,(0,a.c)({className:(0,r.c)(m.root,i),elevation:s?8:void 0,ref:l,ownerState:u},c))}))}}]);
//# sourceMappingURL=7848.6f053c57.chunk.js.map