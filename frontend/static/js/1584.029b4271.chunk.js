"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[1584],{39204:(e,r,s)=>{s.r(r),s.d(r,{default:()=>D});var a=s(69060),t=s(13724),d=s(1908),l=s(39308),i=s(43692),n=s(5548),c=s(84436),o=s(82656),h=s(26773),u=s(4488),m=s(90048),x=s(89e3),O=s(51560),j=s(61988),p=s(46088),v=s(56480),y=s(76456),g=s(82496);const D=e=>{let{loadingOn:r,loadingOff:s}=e;const[D,b]=(0,a.useState)([]),[A,f]=(0,a.useState)({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1}),C=(0,O.i6)(),[I,S]=(0,a.useState)({Fromdate:(0,l.SO)(10),Todate:(0,l.Q7)(),FilterDialog:!1,OrderStatus:"ITEMS",deleteOrderDialog:!1,deleteOrderId:"",refresh:!1,view:"PURCHASE ORDERS"});(0,a.useEffect)((()=>{(0,d.q)({address:"dataEntry/purchaseOrderEntry?Fromdate=".concat(null===I||void 0===I?void 0:I.Fromdate,"&Todate=").concat(null===I||void 0===I?void 0:I.Todate)}).then((e=>{e.success&&b(e.data)})).catch((e=>console.error(e)))}),[I.Fromdate,I.Todate,I.refresh]);return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(i.c,{children:[(0,g.jsxs)("div",{className:"p-2 d-flex flex-wrap align-items-center border-bottom",children:[(0,g.jsx)("h5",{className:"m-0 flex-grow-1 ps-2",children:"Purchase Order Report"}),(0,g.jsx)(n.c,{size:"small",className:"me-2",onClick:()=>S((e=>({...e,FilterDialog:!0}))),children:(0,g.jsx)(j.c,{})})]}),(0,g.jsx)(c.c,{children:(0,g.jsx)(t.c,{dataArray:(0,p.K)({data:D,status:I.OrderStatus}),columns:(0,p.a)({OrderStatus:I.OrderStatus,dialogs:S,setOrderPreview:f,navigation:e=>{let{page:r="",stateToTransfer:s={}}=e;C(r,{state:s})}}),tableMaxHeight:750,EnableSerialNumber:!0,title:I.OrderStatus})})]}),A.display&&(0,g.jsx)(y.c,{OrderDetails:A.OrderDetails,OrderItemsArray:A.OrderItemsArray,DeliveryArray:A.DeliveryArray,TranspoterArray:A.TranspoterArray,display:A.display,onCloseDialog:()=>{f({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1})}}),(0,g.jsxs)(o.c,{open:I.FilterDialog,onClose:()=>S((e=>({...e,FilterDialog:!1}))),maxWidth:"sm",fullWidth:!0,children:[(0,g.jsx)(h.c,{children:"Filters"}),(0,g.jsx)(u.c,{children:(0,g.jsx)("table",{className:"table m-0 border-0",children:(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border-0 vctr",children:"Fromdate"}),(0,g.jsx)("td",{className:"border-0 vctr",children:(0,g.jsx)("input",{type:"date",onChange:e=>S((r=>({...r,Fromdate:e.target.value}))),value:I.Fromdate,className:"cus-inpt p-2"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border-0 vctr",children:"Todate"}),(0,g.jsx)("td",{className:"border-0 vctr",children:(0,g.jsx)("input",{type:"date",onChange:e=>S((r=>({...r,Todate:e.target.value}))),value:I.Todate,className:"cus-inpt p-2"})})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border-0 vctr",children:"Order Status"}),(0,g.jsx)("td",{className:"border-0 vctr",children:(0,g.jsxs)("select",{className:"cus-inpt p-2",value:I.OrderStatus,onChange:e=>S((r=>({...r,OrderStatus:e.target.value}))),children:[(0,g.jsx)("option",{value:"PO-Vendor-Wise",children:"PO-Vendor-Wise"}),(0,g.jsx)("option",{value:"PO-Item-Wise",children:"PO-Item-Wise"}),(0,g.jsx)("option",{value:"PO-Pending-Only",children:"PO-Pending-Only"}),(0,g.jsx)("option",{value:"AR-Item-Based",children:"AR-Item-Based"}),(0,g.jsx)("option",{value:"AR-Vendor-Wise",children:"AR-Vendor-Wise"})]})})]})]})})}),(0,g.jsx)(m.c,{children:(0,g.jsx)(x.c,{onClick:()=>S((e=>({...e,FilterDialog:!1}))),variant:"outlined",children:"Close"})})]}),(0,g.jsxs)(o.c,{open:I.deleteOrderDialog,onClose:()=>S((e=>({...e,deleteOrderDialog:!1,deleteOrderId:""}))),maxWidth:"sm",children:[(0,g.jsx)(h.c,{children:"Confirmation"}),(0,g.jsx)(u.c,{children:(0,g.jsx)("h6",{children:"Do you want to delete the order permanently?"})}),(0,g.jsxs)(m.c,{children:[(0,g.jsx)(x.c,{onClick:()=>S((e=>({...e,deleteOrderDialog:!1,deleteOrderId:""}))),children:"Cancel"}),(0,g.jsx)(x.c,{color:"error",variant:"outlined",onClick:()=>{return e=I.deleteOrderId,void((0,l.Q$)(e)&&(0,d.q)({address:"dataEntry/purchaseOrderEntry",method:"DELETE",bodyData:{OrderId:e}}).then((e=>{e.success?(S((e=>({...e,deleteOrderDialog:!1,deleteOrderId:"",refresh:!e.refresh}))),v.m4.success(e.message)):(S((e=>({...e,deleteOrderDialog:!1,deleteOrderId:""}))),v.m4.error(e.message))})).catch((e=>console.error(e))));var e},children:"Delete"})]})]})]})}}}]);
//# sourceMappingURL=1584.029b4271.chunk.js.map