"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[9756],{13724:(e,r,l)=>{l.d(r,{c:()=>y});var t=l(69060),a=l(27454),i=l(700),d=l(5548),s=l(99904),n=l(85624),o=l(33856),c=l(58612),u=l(53248),v=l(29504),m=l(5930),h=l(39308),x=l(41459),j=l(46864),N=l(82496);const D=e=>{let{dataArray:r=[],columns:l=[],onClickFun:D=null,isExpendable:y=!1,expandableComp:p=null,tableMaxHeight:g=550,initialPageCount:C=20,EnableSerialNumber:I=!1,CellSize:b="small",disablePagination:O=!1,title:f=""}=e;const[S,P]=(0,t.useState)(0),[A,w]=(0,t.useState)(C),[E,T]=(0,t.useState)([]),R=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],k=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],F=(e=>{if(!E.length)return e;return[...e].sort(((e,r)=>{for(const l of E){const{columnId:t,direction:a}=l,i=e[t],d=r[t];if(i!==d)return"asc"===a?i>d?1:-1:i<d?1:-1}return 0}))})(r),B=S*A,M=B+A,L=F.slice(B,M),H=(e,r)=>{switch(r){case"number":return(0,h.SA)(e);case"date":return(0,h.uy)(e);case"time":return(0,h.AX)(e);case"string":return e;default:return""}},Q=e=>{let{row:r,index:s}=e;const[n,o]=(0,t.useState)(!1),c="20px";return(0,N.jsxs)(t.Fragment,{children:[(0,N.jsxs)(a.c,{children:[!0===y&&p&&(0,N.jsx)(i.c,{className:"fa-13 border-end text-center vtop",children:(0,N.jsx)(d.c,{size:"small",onClick:()=>o((e=>!e)),children:n?(0,N.jsx)(x.c,{sx:{fontSize:c}}):(0,N.jsx)(j.c,{sx:{fontSize:c}})})}),!0===I&&(0,N.jsx)(i.c,{className:"fa-13 border-end text-center vtop",children:A*S+s+1}),null===l||void 0===l?void 0:l.map(((e,l)=>{var t,a;return((0,h.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,h.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&(!1!==Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell?(0,N.jsx)(i.c,{className:"fa-13 border-end "+(e.align?null===(t=R.find((r=>r.type===String(e.align).toLowerCase())))||void 0===t?void 0:t.class:"")+(e.verticalAlign?null===(a=k.find((r=>r.type===String(e.verticalAlign).toLowerCase())))||void 0===a?void 0:a.class:" vctr "),children:e.Cell({row:r,Field_Name:e.Field_Name})},l):Object.entries(r).map((t=>{var a,d;let[s,n]=t;return e.Field_Name===s&&((0,h.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,h.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&(0,N.jsx)(i.c,{className:"fa-13 border-end "+(e.align?null===(a=R.find((r=>r.type===String(e.align).toLowerCase())))||void 0===a?void 0:a.class:"")+(e.verticalAlign?null===(d=k.find((r=>r.type===String(e.verticalAlign).toLowerCase())))||void 0===d?void 0:d.class:" vctr "),onClick:()=>D?D(r):console.log("Function not supplied"),children:H(n,null===e||void 0===e?void 0:e.Fied_Data)},l)})))}))]}),!0===y&&p&&n&&(0,N.jsx)(a.c,{children:(0,N.jsx)(i.c,{colSpan:Number(null===l||void 0===l?void 0:l.length)+(!0===I?2:1),children:p({row:r,index:s})})})]})};return(0,N.jsxs)("div",{children:[f&&(0,N.jsx)("h6",{className:"fw-bold text-muted",children:f}),(0,N.jsx)(s.c,{component:n.c,sx:{maxHeight:g},children:(0,N.jsxs)(o.c,{stickyHeader:!0,size:b,children:[(0,N.jsx)(c.c,{children:(0,N.jsxs)(a.c,{children:[y&&p&&(0,N.jsx)(i.c,{className:"fa-13 fw-bold border-end border-top text-center",style:{backgroundColor:"#EDF0F7"},children:"#"}),I&&(0,N.jsx)(i.c,{className:"fa-13 fw-bold border-end border-top text-center",style:{backgroundColor:"#EDF0F7"},children:"SNo"}),l.map(((e,r)=>{const l=(0,h.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,h.Qr)(null===e||void 0===e?void 0:e.isVisible,1),t=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,a=E.find((r=>r.columnId===e.Field_Name)),d=a?a.direction:"asc";var s,n,o,c;return l?t?(0,N.jsx)(i.c,{className:"fa-13 fw-bold border-end border-top "+(e.align?null===(s=R.find((r=>r.type===String(e.align).toLowerCase())))||void 0===s?void 0:s.class:""),style:{backgroundColor:"#EDF0F7"},sortDirection:!!a&&d,children:(0,N.jsx)(u.c,{active:!!a,direction:d,onClick:()=>(e=>{const r=E.find((r=>r.columnId===e));if(r){const l="asc"===r.direction;T(E.map((r=>r.columnId===e?{...r,direction:l?"desc":"asc"}:r)))}else T([...E,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(n=e.Field_Name)||void 0===n?void 0:n.replace(/_/g," "))})},r):(0,N.jsx)(i.c,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fa-13 fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(o=R.find((r=>r.type===String(e.align).toLowerCase())))||void 0===o?void 0:o.class:""),style:{backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},r):null}))]})}),(0,N.jsxs)(v.c,{children:[(O?F:L).map(((e,r)=>(0,N.jsx)(Q,{row:e,index:r},r))),0===r.length&&(0,N.jsx)(a.c,{children:(0,N.jsx)(i.c,{colSpan:l.length+(!0===y&&p?1:0)+(!0===I?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!O&&0!==L.length&&(0,N.jsx)("div",{className:"p-2 pb-0",children:(0,N.jsx)(m.c,{component:"div",count:r.length,page:S,onPageChange:(e,r)=>{P(r)},rowsPerPage:A,onRowsPerPageChange:e=>{w(parseInt(e.target.value,10)),P(0)},rowsPerPageOptions:Array.from(new Set([C,5,20,50,100,200,500])).sort(((e,r)=>e-r)),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};D.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0};const y=D},29756:(e,r,l)=>{l.r(r),l.d(r,{default:()=>F});var t=l(69060),a=l(13724),i=l(1908),d=l(39308),s=l(43692),n=l(5548),o=l(89e3),c=l(84436),u=l(82656),v=l(26773),m=l(4488),h=l(90048),x=l(51560),j=l(61988),N=l(3358),D=l(27664),y=l(82496);const p=(0,D.c)((0,y.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.89-2-2-2m0 16H5V7h14zm-5.5-6c0 .83-.67 1.5-1.5 1.5s-1.5-.67-1.5-1.5.67-1.5 1.5-1.5 1.5.67 1.5 1.5M12 9c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"Preview");var g=l(86e3),C=l(45180);const I=e=>{let{data:r=[],status:l="ITEMS"}=e;switch(l){case"ITEMS":return null===r||void 0===r?void 0:r.reduce(((e,r)=>{if(!Array.isArray(null===r||void 0===r?void 0:r.ItemDetails))return e;const l=r.ItemDetails.map((e=>{var l,t,a,i,d;return{...e,OrderDetails:{Id:null===r||void 0===r?void 0:r.Id,Sno:null===r||void 0===r?void 0:r.Sno,PoYear:null===r||void 0===r?void 0:r.PoYear,PO_ID:null===r||void 0===r?void 0:r.PO_ID,BranchId:null===r||void 0===r?void 0:r.BranchId,BrokerId:null!==(l=r.BrokerId)&&void 0!==l?l:"",BrokerName:r.BrokerName,CreatedBy:r.CreatedBy,CreatedAt:r.CreatedAt,ItemDetails:null===r||void 0===r?void 0:r.ItemDetails,OrderStatus:null===r||void 0===r?void 0:r.OrderStatus,DeliveryDetails:null!==(t=r.DeliveryDetails)&&void 0!==t?t:[],LoadingDate:r.LoadingDate,OwnerId:null!==(a=r.OwnerId)&&void 0!==a?a:"",OwnerName:r.OwnerName,PartyAddress:r.PartyAddress,PartyId:null!==(i=r.PartyId)&&void 0!==i?i:"",PartyName:r.PartyName,PaymentCondition:r.PaymentCondition,Remarks:r.Remarks,TradeConfirmDate:r.TradeConfirmDate,TranspoterDetails:null!==(d=r.TranspoterDetails)&&void 0!==d?d:[]}}}));return e.concat(l)}),[]);case"ITEMS PENDING":return null===r||void 0===r?void 0:r.reduce(((e,r)=>{var l;if(!Array.isArray(null===r||void 0===r?void 0:r.ItemDetails))return e;const t=null===r||void 0===r||null===(l=r.ItemDetails)||void 0===l?void 0:l.filter((e=>{var l;const t=(null===r||void 0===r||null===(l=r.DeliveryDetails)||void 0===l?void 0:l.filter((r=>(0,d.Qr)(r.ItemId,null===e||void 0===e?void 0:e.ItemId)))).reduce(((e,r)=>(0,d.Q5)(e,null===r||void 0===r?void 0:r.Weight)),0);return Number(t)<Number(null===e||void 0===e?void 0:e.Weight)})).map((e=>{var l,t,a,i,d;return{...e,OrderDetails:{Id:null===r||void 0===r?void 0:r.Id,Sno:null===r||void 0===r?void 0:r.Sno,PoYear:null===r||void 0===r?void 0:r.PoYear,PO_ID:null===r||void 0===r?void 0:r.PO_ID,BranchId:null===r||void 0===r?void 0:r.BranchId,BrokerId:null!==(l=r.BrokerId)&&void 0!==l?l:"",BrokerName:r.BrokerName,CreatedBy:r.CreatedBy,CreatedAt:r.CreatedAt,ItemDetails:null===r||void 0===r?void 0:r.ItemDetails,OrderStatus:null===r||void 0===r?void 0:r.OrderStatus,DeliveryDetails:null!==(t=r.DeliveryDetails)&&void 0!==t?t:[],LoadingDate:r.LoadingDate,OwnerId:null!==(a=r.OwnerId)&&void 0!==a?a:"",OwnerName:r.OwnerName,PartyAddress:r.PartyAddress,PartyId:null!==(i=r.PartyId)&&void 0!==i?i:"",PartyName:r.PartyName,PaymentCondition:r.PaymentCondition,Remarks:r.Remarks,TradeConfirmDate:r.TradeConfirmDate,TranspoterDetails:null!==(d=r.TranspoterDetails)&&void 0!==d?d:[]}}}));return e.concat(t)}),[]);case"ITEMS ARRIVED":return null===r||void 0===r?void 0:r.reduce(((e,r)=>{var l;if(!Array.isArray(null===r||void 0===r?void 0:r.ItemDetails))return e;const t=null===r||void 0===r||null===(l=r.ItemDetails)||void 0===l?void 0:l.filter((e=>{var l;const t=(null===r||void 0===r||null===(l=r.DeliveryDetails)||void 0===l?void 0:l.filter((r=>(0,d.Qr)(r.ItemId,null===e||void 0===e?void 0:e.ItemId)))).reduce(((e,r)=>(0,d.Q5)(e,null===r||void 0===r?void 0:r.Weight)),0);return Number(t)>=Number(null===e||void 0===e?void 0:e.Weight)})).map((e=>{var l,t,a,i,d;return{...e,OrderDetails:{Id:null===r||void 0===r?void 0:r.Id,Sno:null===r||void 0===r?void 0:r.Sno,PoYear:null===r||void 0===r?void 0:r.PoYear,PO_ID:null===r||void 0===r?void 0:r.PO_ID,BranchId:null===r||void 0===r?void 0:r.BranchId,BrokerId:null!==(l=r.BrokerId)&&void 0!==l?l:"",BrokerName:r.BrokerName,CreatedBy:r.CreatedBy,CreatedAt:r.CreatedAt,ItemDetails:null===r||void 0===r?void 0:r.ItemDetails,OrderStatus:null===r||void 0===r?void 0:r.OrderStatus,DeliveryDetails:null!==(t=r.DeliveryDetails)&&void 0!==t?t:[],LoadingDate:r.LoadingDate,OwnerId:null!==(a=r.OwnerId)&&void 0!==a?a:"",OwnerName:r.OwnerName,PartyAddress:r.PartyAddress,PartyId:null!==(i=r.PartyId)&&void 0!==i?i:"",PartyName:r.PartyName,PaymentCondition:r.PaymentCondition,Remarks:r.Remarks,TradeConfirmDate:r.TradeConfirmDate,TranspoterDetails:null!==(d=r.TranspoterDetails)&&void 0!==d?d:[]}}}));return e.concat(t)}),[]);case"ORDERS":return r;case"ORDERS PENDING":return r.reduce(((e,r)=>{var l;return!Array.isArray(null===r||void 0===r?void 0:r.DeliveryDetails)||(0,d.QT)(null===r||void 0===r||null===(l=r.DeliveryDetails)||void 0===l?void 0:l.length,0)?e:e.concat(r)}),[]);case"ORDERS ARRIVED":return r.reduce(((e,r)=>{var l;return!Array.isArray(null===r||void 0===r?void 0:r.DeliveryDetails)||(0,d.Qr)(null===r||void 0===r||null===(l=r.DeliveryDetails)||void 0===l?void 0:l.length,0)?e:e.concat(r)}),[]);default:return[]}},b=" bg-info fw-bold fa-11 px-2 py-1 rounded-3 ",O=" bg-warning fw-bold fa-11 px-2 py-1 rounded-3 ",f=" bg-success text-light fa-11 px-2 py-1 rounded-3 ",S=" bg-danger text-light fw-bold fa-11 px-2 py-1 rounded-3 ",P=e=>{switch(e){case"New Order":return b;case"On Process":return O;case"Completed":return f;case"Canceled":return S;default:return""}},A=(e,r,l)=>({isVisible:1,Field_Name:e,Fied_Data:r,...l&&{ColumnHeader:l}}),w=e=>{let{OrderStatus:r="ITEMS",dialogs:l,setOrderPreview:t,navigation:a}=e;const i=A("OrderId","string","Order Id"),s=A("ItemName","string","Item"),o=A("Rate","number"),c=(A("LoadingDate","date","Loading Date"),A("OwnerName","string","Owner Name")),u=A("BrokerName","string","Broker Name"),v=A("PartyName","string","Party"),m=(A("PaymentCondition","string","Payment Condition"),A("Remarks","string")),h=A("TradeConfirmDate","date","Trade Confirm Date"),x=(A("QualityCondition","string","Condition"),{isVisible:1,ColumnHeader:"Weight",isCustomCell:!0,Cell:e=>{var r;let{row:l}=e;return(null!==(r=null===l||void 0===l?void 0:l.Weight)&&void 0!==r?r:0)+" "+(null===l||void 0===l?void 0:l.Units)}}),j={isVisible:1,ColumnHeader:"Arrived Quantity",isCustomCell:!0,Cell:e=>{var r,l;let{row:t}=e;return(null===t||void 0===t||null===(r=t.OrderDetails)||void 0===r||null===(l=r.DeliveryDetails)||void 0===l?void 0:l.filter((e=>(0,d.Qr)(e.ItemId,null===t||void 0===t?void 0:t.ItemId)))).reduce(((e,r)=>(0,d.Q5)(e,null===r||void 0===r?void 0:r.Weight)),0)}},D={isVisible:1,ColumnHeader:"Pending-Quantity",isCustomCell:!0,Cell:e=>{var r,l;let{row:t}=e;const a=(null===t||void 0===t||null===(r=t.OrderDetails)||void 0===r||null===(l=r.DeliveryDetails)||void 0===l?void 0:l.filter((e=>(0,d.Qr)(e.ItemId,null===t||void 0===t?void 0:t.ItemId)))).reduce(((e,r)=>(0,d.Q5)(e,null===r||void 0===r?void 0:r.Weight)),0);return(0,d.od)(null===t||void 0===t?void 0:t.Weight,a)}},I={isVisible:1,isCustomCell:!0,ColumnHeader:"Date",Cell:e=>{var r;let{row:l}=e;return(0,d.uy)(null===l||void 0===l||null===(r=l.OrderDetails)||void 0===r?void 0:r.TradeConfirmDate)}},b={isVisible:1,ColumnHeader:"Party",isCustomCell:!0,Cell:e=>{var r;let{row:l}=e;return null===l||void 0===l||null===(r=l.OrderDetails)||void 0===r?void 0:r.PartyName}},O={isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{var r,i,d;let{row:s}=e;const o=null!==s&&void 0!==s?s:{},c=null!==(r=null===s||void 0===s?void 0:s.ItemDetails)&&void 0!==r?r:[],u=null!==(i=null===s||void 0===s?void 0:s.DeliveryDetails)&&void 0!==i?i:[],v=null!==(d=null===s||void 0===s?void 0:s.TranspoterDetails)&&void 0!==d?d:[];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(N.c,{title:"Preview Order",children:(0,y.jsx)("span",{children:(0,y.jsx)(n.c,{size:"small",color:"primary",onClick:()=>t((e=>({...e,OrderDetails:o,OrderItemsArray:c,DeliveryArray:u,TranspoterArray:v,display:!0}))),children:(0,y.jsx)(p,{})})})}),(0,y.jsx)(N.c,{title:"Edit",children:(0,y.jsx)("span",{children:(0,y.jsx)(n.c,{size:"small",onClick:()=>a({page:"create",stateToTransfer:{OrderDetails:o,OrderItemsArray:c,DeliveryArray:u,TranspoterArray:v,editPage:"PurchaseOderWithDelivery"}}),children:(0,y.jsx)(g.c,{})})})}),(0,y.jsx)(N.c,{title:"Delete Order",children:(0,y.jsx)("span",{children:(0,y.jsx)(n.c,{size:"small",onClick:()=>l((e=>({...e,deleteOrderDialog:!0,deleteOrderId:null===s||void 0===s?void 0:s.Id}))),color:"error",children:(0,y.jsx)(C.c,{})})})})]})}},f={isVisible:1,ColumnHeader:"Action",isCustomCell:!0,Cell:e=>{let{row:r}=e;const l=null===r||void 0===r?void 0:r.OrderDetails,{ItemDetails:i,DeliveryDetails:d,TranspoterDetails:s}=l;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(N.c,{title:"Preview Order",children:(0,y.jsx)("span",{children:(0,y.jsx)(n.c,{size:"small",color:"primary",onClick:()=>t((e=>({...e,OrderDetails:l,OrderItemsArray:i,DeliveryArray:d,TranspoterArray:s,display:!0}))),children:(0,y.jsx)(p,{})})})}),(0,y.jsx)(N.c,{title:"Edit",children:(0,y.jsx)("span",{children:(0,y.jsx)(n.c,{size:"small",onClick:()=>a({page:"create",stateToTransfer:{OrderDetails:l,OrderItemsArray:i,DeliveryArray:d,TranspoterArray:s,editPage:"PurchaseOderWithDelivery"}}),children:(0,y.jsx)(g.c,{})})})})]})}},S={isVisible:1,ColumnHeader:"Status",isCustomCell:!0,Cell:e=>{let{row:r}=e;const l=null===r||void 0===r?void 0:r.OrderStatus;return(0,y.jsx)("span",{className:P(l),children:String(l).replace(" ","")})}};switch(r){case"ITEMS":case"ITEMS PENDING":case"ITEMS ARRIVED":return[i,b,I,s,x,j,D,o,f];case"ORDERS":return[A("Id","string","Order Id"),h,v,u,c,m,S,O];case"ORDERS PENDING":case"ORDERS ARRIVED":return[A("Id","string","Order Id"),h,v,u,c,m,O];default:return[]}};var E=l(56480),T=l(33452),R=l(49608);const k=e=>{var r,l,a,i;let{OrderDetails:s={},OrderItemsArray:n=[],DeliveryArray:c=[],TranspoterArray:x=[],display:j=!1,onCloseDialog:N}=e;const[D,p]=(0,t.useState)(!1),g="border fa-14 vctr",C=(0,t.useRef)(null);(0,t.useEffect)((()=>{p(!!j)}),[j]);const I=()=>{N&&N(),p(!1)},b=(0,T.useReactToPrint)({content:()=>C.current});return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(u.c,{open:D,onClose:I,maxWidth:"lg",fullWidth:!0,children:[(0,y.jsxs)(v.c,{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,y.jsx)("span",{children:"Order Preview"}),(0,y.jsx)("span",{children:(0,y.jsx)(o.c,{startIcon:(0,y.jsx)(R.c,{}),variant:"outlined",onClick:b,children:"Download"})})]}),(0,y.jsx)(m.c,{ref:C,children:(0,y.jsxs)("div",{className:"table-responsive",children:[(0,y.jsx)("table",{className:"table m-0",children:(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g+" text-primary fw-bold bg-light border-bottom-0",children:"ORDER DETAILS"}),(0,y.jsx)("td",{className:g+" text-primary fw-bold bg-light ",children:"PARTY DETAILS"})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g+" p-0 border-0",children:(0,y.jsx)("table",{className:"table m-0 ",children:(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g,children:"Loading Date"}),(0,y.jsx)("td",{className:g,children:null!==s&&void 0!==s&&s.LoadingDate?(0,d.uy)(null===s||void 0===s?void 0:s.LoadingDate):""})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g,children:"Trade Confirm Date"}),(0,y.jsx)("td",{className:g,children:null!==s&&void 0!==s&&s.TradeConfirmDate?(0,d.uy)(null===s||void 0===s?void 0:s.TradeConfirmDate):""})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g,children:"Owner Name"}),(0,y.jsx)("td",{className:g,children:null===s||void 0===s?void 0:s.OwnerName})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g,children:"Broker Name"}),(0,y.jsx)("td",{className:g,children:null===s||void 0===s?void 0:s.BrokerName})]})]})})}),(0,y.jsx)("td",{className:g+" p-0 border-0 ",children:(0,y.jsx)("table",{className:"table m-0 p-0",children:(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g,children:(0,y.jsxs)("h6",{className:"m-0",children:["Party Name: ",(0,y.jsx)("br",{})," \u2003 ",null!==(r=null===s||void 0===s?void 0:s.PartyName)&&void 0!==r?r:"-"]})}),(0,y.jsx)("td",{className:g,children:(0,y.jsxs)("h6",{className:"m-0",children:["Party Address: ",(0,y.jsx)("br",{})," \u2003 ",null!==(l=null===s||void 0===s?void 0:s.PartyAddress)&&void 0!==l?l:"-"]})})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g,children:(0,y.jsxs)("h6",{className:"m-0",children:["Payment Condition: ",(0,y.jsx)("br",{})," \u2003 ",null!==(a=null===s||void 0===s?void 0:s.PaymentCondition)&&void 0!==a?a:"-"]})}),(0,y.jsx)("td",{className:g,children:(0,y.jsxs)("h6",{className:"m-0",children:["Remarks: ",(0,y.jsx)("br",{})," \u2003 ",null!==(i=null===s||void 0===s?void 0:s.Remarks)&&void 0!==i?i:"-"]})})]})]})})})]})]})}),(0,y.jsxs)("table",{className:"table m-0",children:[(0,y.jsxs)("thead",{children:[(0,y.jsx)("tr",{children:(0,y.jsx)("td",{className:g+" text-primary fw-bold bg-light border-top-0",colSpan:7,children:"ORDER ITEMS"})}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:g+" text-center",children:"SNo"}),(0,y.jsx)("th",{className:g+" text-center",children:"Item Name"}),(0,y.jsx)("th",{className:g+" text-center",children:"Tonnage"}),(0,y.jsxs)("th",{className:g+" text-center",children:["Rate ",(0,y.jsx)("br",{}),"Deliver/Spot"]}),(0,y.jsx)("th",{className:g+" text-center",children:"Discount"}),(0,y.jsx)("th",{className:g+" text-center",children:"Quality Condition"})]})]}),(0,y.jsx)("tbody",{children:n.map(((e,r)=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g,children:r+1}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.ItemName}),(0,y.jsx)("td",{className:g,children:(null===e||void 0===e?void 0:e.Weight)+" "+(null===e||void 0===e?void 0:e.Units)}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.Rate}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.Discount}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.QualityCondition})]},r)))})]}),(0,y.jsxs)("table",{className:"table m-0",children:[(0,y.jsxs)("thead",{children:[(0,y.jsx)("tr",{children:(0,y.jsx)("td",{className:g+" text-primary fw-bold bg-light border-top-0",colSpan:11,children:"DELIVERY DETAILS"})}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:g+" text-center",children:"SNo"}),(0,y.jsx)("th",{className:g+" text-center",children:"Location"}),(0,y.jsx)("th",{className:g+" text-center",children:"Arrival Date"}),(0,y.jsx)("th",{className:g+" text-center",children:"Item Name"}),(0,y.jsx)("th",{className:g+" text-center",children:"Concern"}),(0,y.jsx)("th",{className:g+" text-center",children:"Bill No"}),(0,y.jsx)("th",{className:g+" text-center",children:"Bill Date"}),(0,y.jsx)("th",{className:g+" text-center",children:"Quantity"}),(0,y.jsx)("th",{className:g+" text-center",children:"Tonnage / KGs"}),(0,y.jsx)("th",{className:g+" text-center",children:"Batch / Location"}),(0,y.jsx)("th",{className:g+" text-center",children:"Pending Quantity"})]})]}),(0,y.jsx)("tbody",{children:c.map(((e,r)=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g,children:r+1}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.Location}),(0,y.jsx)("td",{className:g,children:null!==e&&void 0!==e&&e.ArrivalDate?(0,d.uy)(null===e||void 0===e?void 0:e.ArrivalDate):""}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.ItemName}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.Concern}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.BillNo}),(0,y.jsx)("td",{className:g,children:null!==e&&void 0!==e&&e.BillDate?(0,d.uy)(null===e||void 0===e?void 0:e.BillDate):""}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.Quantity}),(0,y.jsx)("td",{className:g,children:(null===e||void 0===e?void 0:e.Weight)+" "+(null===e||void 0===e?void 0:e.Units)}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.BatchLocation}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.PendingQuantity})]},r)))})]}),(0,y.jsxs)("table",{className:"table m-0",children:[(0,y.jsxs)("thead",{children:[(0,y.jsx)("tr",{children:(0,y.jsx)("td",{className:g+" text-primary fw-bold bg-light border-top-0",colSpan:9,children:"OTHER DETAILS"})}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:g+" text-center",rowSpan:2,children:"SNo"}),(0,y.jsx)("th",{className:g+" text-center",colSpan:2,children:"Loading Wt"}),(0,y.jsx)("th",{className:g+" text-center",colSpan:2,children:"Unloading Wt"}),(0,y.jsx)("th",{className:g+" text-center",children:"Weight"}),(0,y.jsx)("th",{className:g+" text-center",colSpan:3,children:"Transport Details"})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{className:g+" text-center",children:"Load"}),(0,y.jsx)("th",{className:g+" text-center",children:"Empty"}),(0,y.jsx)("th",{className:g+" text-center",children:"Load"}),(0,y.jsx)("th",{className:g+" text-center",children:"Empty"}),(0,y.jsx)("th",{className:g+" text-center",children:"EX / SH"}),(0,y.jsx)("th",{className:g+" text-center",children:"Name"}),(0,y.jsx)("th",{className:g+" text-center",children:"Vehicle No"}),(0,y.jsx)("th",{className:g+" text-center",children:"Phone Number"})]})]}),(0,y.jsx)("tbody",{children:x.map(((e,r)=>(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:g,children:r+1}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.Loading_Load}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.Loading_Empty}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.Unloading_Load}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.Unloading_Empty}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.EX_SH}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.DriverName}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.VehicleNo}),(0,y.jsx)("td",{className:g,children:null===e||void 0===e?void 0:e.PhoneNumber})]},r)))})]})]})}),(0,y.jsx)(h.c,{children:(0,y.jsx)(o.c,{onClick:I,children:"close"})})]})})},F=e=>{let{loadingOn:r,loadingOff:l}=e;const[N,D]=(0,t.useState)([]),[p,g]=(0,t.useState)({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1}),C=(0,x.i6)(),[b,O]=(0,t.useState)({Fromdate:(0,d.SO)(10),Todate:(0,d.Q7)(),FilterDialog:!1,OrderStatus:"ITEMS",deleteOrderDialog:!1,deleteOrderId:"",refresh:!1,view:"PURCHASE ORDERS"});(0,t.useEffect)((()=>{(0,i.q)({address:"dataEntry/purchaseOrderEntry?Fromdate=".concat(null===b||void 0===b?void 0:b.Fromdate,"&Todate=").concat(null===b||void 0===b?void 0:b.Todate)}).then((e=>{e.success&&D(e.data)})).catch((e=>console.error(e)))}),[b.Fromdate,b.Todate,b.refresh]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(s.c,{children:[(0,y.jsxs)("div",{className:"p-2 d-flex flex-wrap align-items-center",children:[(0,y.jsx)("h5",{className:"m-0 flex-grow-1",children:"Purchase Order"}),(0,y.jsx)(n.c,{size:"small",className:"me-2",onClick:()=>O((e=>({...e,FilterDialog:!0}))),children:(0,y.jsx)(j.c,{})}),(0,y.jsx)(o.c,{variant:"outlined",onClick:()=>C("create"),children:"Add"})]}),(0,y.jsx)(c.c,{children:(0,y.jsx)(a.c,{dataArray:I({data:N,status:b.OrderStatus}),columns:w({OrderStatus:b.OrderStatus,dialogs:O,setOrderPreview:g,navigation:e=>{let{page:r="",stateToTransfer:l={}}=e;C(r,{state:l})}}),tableMaxHeight:750,EnableSerialNumber:!0,title:b.OrderStatus})})]}),p.display&&(0,y.jsx)(k,{OrderDetails:p.OrderDetails,OrderItemsArray:p.OrderItemsArray,DeliveryArray:p.DeliveryArray,TranspoterArray:p.TranspoterArray,display:p.display,onCloseDialog:()=>{g({OrderDetails:{},OrderItemsArray:[],DeliveryArray:[],TranspoterArray:[],display:!1})}}),(0,y.jsxs)(u.c,{open:b.FilterDialog,onClose:()=>O((e=>({...e,FilterDialog:!1}))),maxWidth:"sm",fullWidth:!0,children:[(0,y.jsx)(v.c,{children:"Filters"}),(0,y.jsx)(m.c,{children:(0,y.jsx)("table",{className:"table m-0 border-0",children:(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"border-0 vctr",children:"Fromdate"}),(0,y.jsx)("td",{className:"border-0 vctr",children:(0,y.jsx)("input",{type:"date",onChange:e=>O((r=>({...r,Fromdate:e.target.value}))),value:b.Fromdate,className:"cus-inpt p-2"})})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"border-0 vctr",children:"Todate"}),(0,y.jsx)("td",{className:"border-0 vctr",children:(0,y.jsx)("input",{type:"date",onChange:e=>O((r=>({...r,Todate:e.target.value}))),value:b.Todate,className:"cus-inpt p-2"})})]}),(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{className:"border-0 vctr",children:"Order Status"}),(0,y.jsx)("td",{className:"border-0 vctr",children:(0,y.jsxs)("select",{className:"cus-inpt p-2",value:b.OrderStatus,onChange:e=>O((r=>({...r,OrderStatus:e.target.value}))),children:[(0,y.jsxs)("optgroup",{label:"ITEM BASED",children:[(0,y.jsx)("option",{value:"ITEMS",children:"ITEMS"}),(0,y.jsx)("option",{value:"ITEMS PENDING",children:"ITEMS - PENDING"}),(0,y.jsx)("option",{value:"ITEMS ARRIVED",children:"ITEMS - ARRIVED"})]}),(0,y.jsx)("optgroup",{label:"ORDER BASED",children:(0,y.jsx)("option",{value:"ORDERS",children:"ORDERS"})})]})})]})]})})}),(0,y.jsx)(h.c,{children:(0,y.jsx)(o.c,{onClick:()=>O((e=>({...e,FilterDialog:!1}))),variant:"outlined",children:"Close"})})]}),(0,y.jsxs)(u.c,{open:b.deleteOrderDialog,onClose:()=>O((e=>({...e,deleteOrderDialog:!1,deleteOrderId:""}))),maxWidth:"sm",children:[(0,y.jsx)(v.c,{children:"Confirmation"}),(0,y.jsx)(m.c,{children:(0,y.jsx)("h6",{children:"Do you want to delete the order permanently?"})}),(0,y.jsxs)(h.c,{children:[(0,y.jsx)(o.c,{onClick:()=>O((e=>({...e,deleteOrderDialog:!1,deleteOrderId:""}))),children:"Cancel"}),(0,y.jsx)(o.c,{color:"error",variant:"outlined",onClick:()=>{return e=b.deleteOrderId,void((0,d.Q$)(e)&&(0,i.q)({address:"dataEntry/purchaseOrderEntry",method:"DELETE",bodyData:{OrderId:e}}).then((e=>{e.success?(O((e=>({...e,deleteOrderDialog:!1,deleteOrderId:"",refresh:!e.refresh}))),E.m4.success(e.message)):(O((e=>({...e,deleteOrderDialog:!1,deleteOrderId:""}))),E.m4.error(e.message))})).catch((e=>console.error(e))));var e},children:"Delete"})]})]})]})}},45180:(e,r,l)=>{l.d(r,{c:()=>i});var t=l(27664),a=l(82496);const i=(0,t.c)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},49608:(e,r,l)=>{l.d(r,{c:()=>i});var t=l(27664),a=l(82496);const i=(0,t.c)((0,a.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},86e3:(e,r,l)=>{l.d(r,{c:()=>i});var t=l(27664),a=l(82496);const i=(0,t.c)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},61988:(e,r,l)=>{l.d(r,{c:()=>i});var t=l(27664),a=l(82496);const i=(0,t.c)((0,a.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt")},84436:(e,r,l)=>{l.d(r,{c:()=>j});var t=l(45072),a=l(95656),i=l(69060),d=l(79736),s=l(21412),n=l(12556),o=l(49836),c=l(10099),u=l(33448);function v(e){return(0,u.cp)("MuiCardContent",e)}(0,c.c)("MuiCardContent",["root"]);var m=l(82496);const h=["className","component"],x=(0,n.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),j=i.forwardRef((function(e,r){const l=(0,o.C)({props:e,name:"MuiCardContent"}),{className:i,component:n="div"}=l,c=(0,a.c)(l,h),u=(0,t.c)({},l,{component:n}),j=(e=>{const{classes:r}=e;return(0,s.c)({root:["root"]},v,r)})(u);return(0,m.jsx)(x,(0,t.c)({as:n,className:(0,d.c)(j.root,i),ownerState:u,ref:r},c))}))},43692:(e,r,l)=>{l.d(r,{c:()=>N});var t=l(45072),a=l(95656),i=l(69060),d=l(79736),s=l(21412),n=l(12556),o=l(49836),c=l(85624),u=l(10099),v=l(33448);function m(e){return(0,v.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var h=l(82496);const x=["className","raised"],j=(0,n.cp)(c.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})((()=>({overflow:"hidden"}))),N=i.forwardRef((function(e,r){const l=(0,o.C)({props:e,name:"MuiCard"}),{className:i,raised:n=!1}=l,c=(0,a.c)(l,x),u=(0,t.c)({},l,{raised:n}),v=(e=>{const{classes:r}=e;return(0,s.c)({root:["root"]},m,r)})(u);return(0,h.jsx)(j,(0,t.c)({className:(0,d.c)(v.root,i),elevation:n?8:void 0,ref:r,ownerState:u},c))}))}}]);
//# sourceMappingURL=9756.d91bc923.chunk.js.map