"use strict";(self.webpackChunkerp=self.webpackChunkerp||[]).push([[5660],{13724:(e,l,t)=>{t.d(l,{A:()=>D,c:()=>F});var a=t(69060),n=t(93996),r=t(14696),s=t(13224),o=t(27454),i=t(700),d=t(5548),c=t(3358),u=t(66931),m=t(89500),v=t(99904),h=t(85624),x=t(33856),p=t(58612),g=t(53248),b=t(29504),_=t(5930),j=t(39308),f=t(41459),I=t(46864),N=t(4284),S=t(76491),C=t(10728),y=t(49608),T=t(28064),A=(t(37692),t(35832)),R=t(82496);const w=(e,l)=>e.map((e=>{const t={};return l.forEach(((l,a)=>{if(l.isVisible||l.Defult_Display)if(l.isCustomCell&&l.Cell){const n=l.Cell({row:e}),r=l.ColumnHeader?String(l.ColumnHeader).replace(/\s+/g,"_").toLowerCase():"field_".concat(a+1);"string"!==typeof n&&"number"!==typeof n&&"bigint"!==typeof n||(t[r]=n)}else{let a=l.Field_Name;t[a]=e[a]||""}})),t})),D=function(){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{isVisible:1,Field_Name:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",Fied_Data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",align:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left",verticalAlign:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"center",...e&&{ColumnHeader:e}}},P=e=>{let{dataArray:l=[],columns:t=[],onClickFun:D=null,isExpendable:P=!1,expandableComp:F=null,tableMaxHeight:k=550,initialPageCount:B=20,EnableSerialNumber:Q=!1,CellSize:O="small",disablePagination:M=!1,title:G="",PDFPrintOption:H=!1,ExcelPrintOption:E=!1,maxHeightOption:V=!1,ButtonArea:z=null,MenuButtons:L=[]}=e;const[q,U]=(0,a.useState)(0),[X,W]=(0,a.useState)(B),[$,Z]=(0,a.useState)([]),[J,K]=(0,a.useState)(!0),Y=J&&V?" max-content ":k,ee=[{type:"left",class:"text-start"},{type:"right",class:"text-end"},{type:"center",class:"text-center"}],le=[{type:"top",class:" vtop "},{type:"bottom",class:" vbottom "},{type:"center",class:" vctr "}],te=(e=>{if(!$.length)return e;return[...e].sort(((e,l)=>{for(const t of $){const{columnId:a,direction:n}=t,r=e[a],s=l[a];if(r!==s)return"asc"===n?r>s?1:-1:r<s?1:-1}return 0}))})(l),ae=q*X,ne=ae+X,re=te.slice(ae,ne),se=(e,l)=>{switch(l){case"number":return(0,j.SA)(e);case"date":return(0,j.uy)(e);case"time":return(0,j.AX)(e);case"string":return e;default:return""}},oe=e=>{let{row:l,index:n}=e;const[r,s]=(0,a.useState)(!1),c="20px";return(0,R.jsxs)(a.Fragment,{children:[(0,R.jsxs)(o.c,{children:[!0===P&&F&&(0,R.jsx)(i.c,{className:"fa-13 border-end text-center vtop",children:(0,R.jsx)(d.c,{size:"small",onClick:()=>s((e=>!e)),children:r?(0,R.jsx)(f.c,{sx:{fontSize:c}}):(0,R.jsx)(I.c,{sx:{fontSize:c}})})}),!0===Q&&(0,R.jsx)(i.c,{className:"fa-13 border-end text-center vtop",children:X*q+n+1}),null===t||void 0===t?void 0:t.map(((e,t)=>{var a,n;return((0,j.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,j.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&(!1!==Boolean(null===e||void 0===e?void 0:e.isCustomCell)&&e.Cell?(0,R.jsx)(i.c,{className:"fa-13 border-end "+(e.align?null===(a=ee.find((l=>l.type===String(e.align).toLowerCase())))||void 0===a?void 0:a.class:"")+(e.verticalAlign?null===(n=le.find((l=>l.type===String(e.verticalAlign).toLowerCase())))||void 0===n?void 0:n.class:" vctr "),children:e.Cell({row:l,Field_Name:e.Field_Name})},t):Object.entries(l).map((a=>{var n,r;let[s,o]=a;return e.Field_Name===s&&((0,j.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,j.Qr)(null===e||void 0===e?void 0:e.isVisible,1))&&(0,R.jsx)(i.c,{className:"fa-13 border-end "+(e.align?null===(n=ee.find((l=>l.type===String(e.align).toLowerCase())))||void 0===n?void 0:n.class:"")+(e.verticalAlign?null===(r=le.find((l=>l.type===String(e.verticalAlign).toLowerCase())))||void 0===r?void 0:r.class:" vctr "),onClick:()=>D?D(l):console.log("Function not supplied"),children:se(o,null===e||void 0===e?void 0:e.Fied_Data)},t)})))}))]}),!0===P&&F&&r&&(0,R.jsx)(o.c,{children:(0,R.jsx)(i.c,{colSpan:Number(null===t||void 0===t?void 0:t.length)+(!0===Q?2:1),children:F({row:l,index:n})})})]})},ie=()=>{const[e,o]=(0,a.useState)(null),i=Boolean(e);return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(c.c,{title:"Export options and more...",children:(0,R.jsx)(d.c,{"aria-describedby":i,onClick:e=>{o(e.currentTarget)},className:"ms-2",size:"small",children:(0,R.jsx)(N.c,{})})}),(0,R.jsx)(u.cp,{open:i,anchorEl:e,onClose:()=>{o(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,R.jsxs)(m.c,{children:[V&&(0,R.jsxs)(n.c,{onClick:()=>K((e=>!e)),disabled:(0,j.Qr)(null===l||void 0===l?void 0:l.length,0),children:[(0,R.jsx)(r.c,{children:J?(0,R.jsx)(S.c,{fontSize:"small",color:"primary"}):(0,R.jsx)(C.c,{fontSize:"small"})}),(0,R.jsx)(s.c,{color:J?"success":"",children:"Max Height"})]}),H&&(0,R.jsxs)(n.c,{onClick:()=>((e,l)=>{try{const t=new T.default,a=w(e,l),n=l.filter((e=>e.isVisible||e.Defult_Display)).map((e=>e.Field_Name||String(e.ColumnHeader).replace(/\s+/g,"_").toLowerCase())),r=a.map((e=>n.map((l=>e[l])))).map(((e,l)=>({...e,Sno:l+1})));t.autoTable({head:[n],body:r}),t.save("table.pdf")}catch(t){console.error(t)}})(l,t),disabled:(0,j.Qr)(null===l||void 0===l?void 0:l.length,0),children:[(0,R.jsx)(r.c,{children:(0,R.jsx)(y.c,{fontSize:"small",color:"primary"})}),(0,R.jsx)(s.c,{children:"Download PDF"})]}),E&&(0,R.jsxs)(n.c,{onClick:()=>((e,l)=>{try{const t=w(e,l),a=A.c$.json_to_sheet(t),n=A.c$.book_new();A.c$.book_append_sheet(n,a,"Data"),A.a8(n,"table.xlsx")}catch(t){console.error(t)}})(l,t),disabled:(0,j.Qr)(null===l||void 0===l?void 0:l.length,0),children:[(0,R.jsx)(r.c,{children:(0,R.jsx)(y.c,{fontSize:"small",color:"primary"})}),(0,R.jsx)(s.c,{children:"Download Excel"})]}),L.map((e=>function(e,l,t){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return(0,R.jsxs)(n.c,{onClick:t,disabled:a,children:[(0,R.jsx)(r.c,{children:l}),(0,R.jsx)(s.c,{children:e})]})}(e.name,e.icon,e.onclick,e.disabled)))]})})]})};return(0,R.jsxs)("div",{className:"rounded-3 bg-white overflow-hidden",children:[(0,R.jsxs)("div",{className:"d-flex align-items-center flex-wrap px-3 py-2 flex-row-reverse ",children:[(H||E||L.length>0||V)&&(0,R.jsx)(ie,{}),z&&z,G&&(0,R.jsx)("h6",{className:"fw-bold text-muted flex-grow-1 m-0",children:G})]}),(0,R.jsx)(v.c,{component:h.c,sx:{maxHeight:Y},children:(0,R.jsxs)(x.c,{stickyHeader:!0,size:O,children:[(0,R.jsx)(p.c,{children:(0,R.jsxs)(o.c,{children:[P&&F&&(0,R.jsx)(i.c,{className:"fa-13 fw-bold border-end border-top text-center",style:{backgroundColor:"#EDF0F7"},children:"#"}),Q&&(0,R.jsx)(i.c,{className:"fa-13 fw-bold border-end border-top text-center",style:{backgroundColor:"#EDF0F7"},children:"SNo"}),t.map(((e,l)=>{const t=(0,j.Qr)(null===e||void 0===e?void 0:e.Defult_Display,1)||(0,j.Qr)(null===e||void 0===e?void 0:e.isVisible,1),a=!1===Boolean(null===e||void 0===e?void 0:e.isCustomCell)||!e.Cell,n=$.find((l=>l.columnId===e.Field_Name)),r=n?n.direction:"asc";var s,o,d,c;return t?a?(0,R.jsx)(i.c,{className:"fa-13 fw-bold border-end border-top "+(e.align?null===(s=ee.find((l=>l.type===String(e.align).toLowerCase())))||void 0===s?void 0:s.class:""),style:{backgroundColor:"#EDF0F7"},sortDirection:!!n&&r,children:(0,R.jsx)(g.c,{active:!!n,direction:r,onClick:()=>(e=>{const l=$.find((l=>l.columnId===e));if(l){const t="asc"===l.direction;Z($.map((l=>l.columnId===e?{...l,direction:t?"desc":"asc"}:l)))}else Z([...$,{columnId:e,direction:"asc"}])})(e.Field_Name),children:e.ColumnHeader||(null===e||void 0===e||null===(o=e.Field_Name)||void 0===o?void 0:o.replace(/_/g," "))})},l):(0,R.jsx)(i.c,{className:"".concat(e.ColumnHeader||null!==e&&void 0!==e&&e.Field_Name?" fa-13 fw-bold border-end border-top p-2 appFont ":" p-0 "," ")+(e.align?null===(d=ee.find((l=>l.type===String(e.align).toLowerCase())))||void 0===d?void 0:d.class:""),style:{backgroundColor:"#EDF0F7"},children:e.ColumnHeader||(null===e||void 0===e||null===(c=e.Field_Name)||void 0===c?void 0:c.replace(/_/g," "))},l):null}))]})}),(0,R.jsxs)(b.c,{children:[(M?te:re).map(((e,l)=>(0,R.jsx)(oe,{row:e,index:l},l))),0===l.length&&(0,R.jsx)(o.c,{children:(0,R.jsx)(i.c,{colSpan:t.length+(!0===P&&F?1:0)+(!0===Q?1:0),sx:{textAlign:"center"},children:"No Data"})})]})]})}),!M&&0!==re.length&&(0,R.jsx)("div",{className:"p-2 pb-0",children:(0,R.jsx)(_.c,{component:"div",count:l.length,page:q,onPageChange:(e,l)=>{U(l)},rowsPerPage:X,onRowsPerPageChange:e=>{W(parseInt(e.target.value,10)),U(0)},rowsPerPageOptions:Array.from(new Set([B,5,20,50,100,200,500])).sort(((e,l)=>e-l)),labelRowsPerPage:"Rows per page",showFirstButton:!0,showLastButton:!0})})]})};P.defaultProps={dataArray:[],columns:[],onClickFun:null,isExpendable:!1,expandableComp:null,tableMaxHeight:550,initialPageCount:20,EnableSerialNumber:!1,CellSize:"small",disablePagination:!1,title:void 0,PDFPrintOption:!1,ExcelPrintOption:!1,maxHeightOption:!1,ButtonArea:null,MenuButtons:[]};const F=P},64568:(e,l,t)=>{t.d(l,{c:()=>n});var a=t(82496);const n=()=>(0,a.jsx)("span",{style:{color:"red",fontWeight:"bold",fontSize:"1em"},children:" *"})},62344:(e,l,t)=>{t.d(l,{o$:()=>s,o5:()=>o,cF:()=>r,iI:()=>n});const a=t.p+"static/media/smt.aa4d4f940bbebff07a57.png",n={table:{style:{width:"auto",backgroundColor:"transparent"}},rows:{style:{backgroundColor:"transparent"}},headCells:{style:{backgroundColor:"#6b9080f8",color:"white",fontSize:"14px"}}},r={control:(e,l)=>({...e,height:"45px",background:"rgba(255, 255, 255, 0.322)"}),menu:(e,l)=>({...e,zIndex:9999})},s=[{id:1,headname:"Menu ID",variant:"head",align:"left",width:100},{id:2,headname:"MenuName"},{id:3,headname:"Read Rights"},{id:4,headname:"Add Rights"},{id:5,headname:"Edit Rights"},{id:6,headname:"Delete Rights"},{id:7,headname:"Print Rights"},{id:8,headname:"Action"}],o=[{dataBase:1,name:"SHANKAR TRADERS",business:"Wholesale Merchant in Dhall",address:"32, Chitrakara Street, Madurai - 01 <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:a,gstin:"33AADFS6973R1ZD",phone:"984-313-1353, 984-335-5166",fssai:"12418012000818",bankAccount:"0021 5032 0885 122",ifsc:"TMBL0000002"},{dataBase:2,name:"SMT AGRO PRODUCTS",business:"",address:"H.O: 153, Chitrakara Street, 2nd Floor, Madurai -01 <br /> G.O: 746 Puliyur, Sayanapuram, Svga <br /> Bill of Supply -Disclaimer Affidavlt Field Extemped",logo:a,gstin:"33ACMFS3420Q1ZQ",phone:"0452-4371625",fssai:"12418012000818",bankAccount:"0025 3031 0875 947",ifsc:"TMBL0000002"},{dataBase:3,name:"BHAVANI TRADERS",business:"",address:"H.O: 152-A, Chitrakara Street, Madurai -01 <br /> G.O: 30/1-Rajman Nagar, Chintamani Main Road, Mdu-01 <br /> Tax Invoice",logo:a,gstin:"33AAEFB6728J1ZG",phone:"958-559-7641, 958-559-7614",fssai:"12418012000670",bankAccount:"0021 5005 0800 309",ifsc:"TMBL0000002"}]},81712:(e,l,t)=>{t.r(l),t.d(l,{default:()=>k});var a=t(69060),n=t(1908),r=t(43692),s=t(84436),o=t(89e3),i=t(95656),d=t(45072),c=t(79736),u=t(21412),m=t(12556),v=t(49836),h=t(10099),x=t(33448);function p(e){return(0,x.cp)("MuiCardActions",e)}(0,h.c)("MuiCardActions",["root","spacing"]);var g=t(82496);const b=["disableSpacing","className"],_=(0,m.cp)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,l)=>{const{ownerState:t}=e;return[l.root,!t.disableSpacing&&l.spacing]}})((e=>{let{ownerState:l}=e;return(0,d.c)({display:"flex",alignItems:"center",padding:8},!l.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),j=a.forwardRef((function(e,l){const t=(0,v.C)({props:e,name:"MuiCardActions"}),{disableSpacing:a=!1,className:n}=t,r=(0,i.c)(t,b),s=(0,d.c)({},t,{disableSpacing:a}),o=(e=>{const{classes:l,disableSpacing:t}=e,a={root:["root",!t&&"spacing"]};return(0,u.c)(a,p,l)})(s);return(0,g.jsx)(_,(0,d.c)({className:(0,c.c)(o.root,n),ownerState:s,ref:l},r))}));var f=t(82656),I=t(26773),N=t(4488),S=t(90048),C=t(30612),y=t(62344),T=t(57704),A=t(39308),R=t(13724),w=t(64568),D=t(56480);const P=function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1){case 0:return(0,A.kR)(e*(l/100));case 1:return(0,A.kR)(e-e*(100/(100+l)));default:return 0}},F=function(){var e;let l=arguments.length>1?arguments[1]:void 0;return null!==(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((e=>(0,A.Qr)(e.Product_Id,l))))&&void 0!==e?e:{}},k=e=>{var l,t;let{loadingOn:i,loadingOff:d}=e;const c={PIN_Id:"",Po_Inv_No:"",Ref_Po_Inv_No:"",Branch_Id:"",Po_Inv_Date:(0,A.Q7)(),Retailer_Id:"",GST_Inclusive:2,IS_IGST:0,Narration:"",isConverted:"",CSGT_Total:0,SGST_Total:0,IGST_Total:0,Round_off:0,Total_Before_Tax:0,Total_Tax:0,Total_Invoice_value:0,Cancel_status:0,Created_by:0,Altered_by:0,Created_on:"",Alterd_on:"",Trans_Type:"",Alter_Id:"",Approved_By:"",Approve_Status:""},u={POI_St_Id:"",DeliveryId:"",OrderId:"",PIN_Id:"",Po_Inv_Date:"",S_No:"",Item_Id:"",Bill_Qty:0,Item_Rate:0,Weight:0,Free_Qty:0,Unit_Id:"",Unit_Name:"",Taxable_Rate:0,Amount:0,Total_Qty:0,Taxble:0,HSN_Code:"",Taxable_Amount:0,Tax_Rate:0,Cgst:0,Cgst_Amo:0,Sgst:0,Sgst_Amo:0,Igst:0,Igst_Amo:0,Final_Amo:0,Created_on:""},[m,v]=(0,a.useState)([]),[h,x]=(0,a.useState)([]),[p,b]=(0,a.useState)([]),[_,k]=(0,a.useState)([]),[B,Q]=(0,a.useState)({vendor:"search",vendorId:""}),[O,M]=(0,a.useState)([]),[G,H]=(0,a.useState)(c),[E,V]=(0,a.useState)([]),[z,L]=(0,a.useState)({nextStep:!1}),q="border fa-14 vctr",U="cus-inpt p-2",X=(0,A.Qr)(null===G||void 0===G?void 0:G.GST_Inclusive,0),W=(0,A.Qr)(null===G||void 0===G?void 0:G.GST_Inclusive,1),$=(0,A.Qr)(null===G||void 0===G?void 0:G.GST_Inclusive,2),Z=(0,A.Qr)(null===G||void 0===G?void 0:G.IS_IGST,1),J=E.reduce(((e,l)=>{const t=(0,A.kR)(null===l||void 0===l?void 0:l.Item_Rate),a=parseInt(null===l||void 0===l?void 0:l.Bill_Qty),n=(0,A.eX)(a,t);if(W||$)return e+Number(n);if(X){const r=F(_,l.Item_Id),s=(0,A.Qr)(Z,1)?r.Igst_P:r.Gst_P,o=P(0,t,s);return e+(Number(n)+o*a)}}),0),K=E.reduce(((e,l)=>{const t=(0,A.kR)(null===l||void 0===l?void 0:l.Item_Rate),a=parseInt(null===l||void 0===l?void 0:l.Bill_Qty)||0;if($)return e.TotalValue+=(0,A.eX)(a,t),e;const n=F(_,l.Item_Id),r=Z?n.Igst_P:n.Gst_P;if(W){const l=P(1,t,r),n=(0,A.od)(t,l);e.TotalTax+=(0,A.eX)(a,l),e.TotalValue+=(0,A.eX)(a,n)}if(X){const l=P(0,t,r);e.TotalTax+=(0,A.eX)(a,l),e.TotalValue+=(0,A.eX)(a,t)}return e}),{TotalValue:0,TotalTax:0});(0,a.useState)((()=>{(0,n.q)({address:"masters/retailers/dropDown"}).then((e=>{e.success&&v(e.data)})).catch((e=>console.error(e))),(0,n.q)({address:"masters/branch/dropDown"}).then((e=>{e.success&&x(e.data)})).catch((e=>console.error(e))),(0,n.q)({address:"masters/uom"}).then((e=>{e.success&&b(e.data)})).catch((e=>console.error(e))),(0,n.q)({address:"masters/products"}).then((e=>{e.success?k(e.data):k([])})).catch((e=>console.error(e)))}),[]);const Y=(e,l)=>{V((t=>{const a=t.filter((l=>!(0,A.Qr)(null===l||void 0===l?void 0:l.OrderId,null===e||void 0===e?void 0:e.OrderId)));if(l)return a;{const l=O.filter((l=>(0,A.Qr)(l.OrderId,e.OrderId))).map((e=>{const l=F(_,e.ItemId),t=Z?l.Igst_P:l.Gst_P,a=t>0?1:0,n=Number(e.Quantity),r=(0,A.kR)(e.BilledRate),s=n*r,o=P(G.GST_Inclusive,s,t),i=P(G.GST_Inclusive,r,t),d=(0,A.kR)((0,A.od)(r,i)),c=W?s-o:s,m=W?s:s+o,v=Z?0:P(G.GST_Inclusive,s,t)/2,h=Z?P(G.GST_Inclusive,s,t):0;return Object.fromEntries(Object.entries(u).map((r=>{var o,i,u;let[x,p]=r;switch(x){case"DeliveryId":return[x,Number(null===e||void 0===e?void 0:e.Id)];case"OrderId":case"PIN_Id":return[x,Number(null===e||void 0===e?void 0:e.OrderId)];case"Po_Inv_Date":return[x,null===G||void 0===G?void 0:G.Po_Inv_Date];case"Item_Id":return[x,Number(null===e||void 0===e?void 0:e.ItemId)];case"Bill_Qty":case"Total_Qty":return[x,n];case"Item_Rate":return[x,Number(null===e||void 0===e?void 0:e.BilledRate)];case"Weight":return[x,Number(null===e||void 0===e?void 0:e.Weight)];case"Taxable_Rate":return[x,Number(d)];case"Amount":return[x,s];case"Taxble":return[x,a];case"HSN_Code":return[x,l.HSN_Code];case"Taxable_Amount":return[x,c];case"Tax_Rate":return[x,t];case"Cgst":return[x,null!==(o=t/2)&&void 0!==o?o:0];case"Cgst_Amo":case"Sgst_Amo":return[x,$?0:v];case"Sgst":return[x,null!==(i=t/2)&&void 0!==i?i:0];case"Igst":return[x,null!==(u=t/2)&&void 0!==u?u:0];case"Igst_Amo":return[x,$?0:h];case"Final_Amo":return[x,m];default:return[x,p]}})))}));return a.concat(l)}}))},ee=()=>{L({nextStep:!1})},le=(e,l,t)=>{V((a=>a.map((a=>{if(a.DeliveryId===e.DeliveryId)switch(l){case"Bill_Qty":{const e=parseFloat(t||0),l={...a,Bill_Qty:e};return a.Item_Rate?l.Amount=(0,A.eX)(a.Item_Rate,e):a.Amount&&(l.Item_Rate=(0,A.yy)(a.Amount,e)),l}case"Item_Rate":{const e=parseFloat(t||0),l={...a,Item_Rate:e};return a.Bill_Qty&&(l.Amount=(0,A.eX)(e,a.Bill_Qty)),l}case"Amount":{const e=parseFloat(t||0),l={...a,Amount:e};return a.Bill_Qty&&(l.Item_Rate=(0,A.yy)(e,a.Bill_Qty)),l}default:return{...a,[l]:t}}return a}))))};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(r.c,{children:[(0,g.jsx)("div",{className:"d-flex flex-wrap align-items-center border-bottom p-2",children:(0,g.jsx)("h5",{className:"flex-grow-1 m-0 ps-2",children:"Purchase Invoice Creation"})}),(0,g.jsxs)(s.c,{style:{minHeight:500},children:[(0,g.jsx)("label",{className:"pe-2",children:"Select Vendor For Invoice: "}),(0,g.jsxs)("div",{className:"d-flex align-self-stretch flex-wrap mb-2",children:[(0,g.jsx)("span",{className:"flex-grow-1",style:{maxWidth:"50%"},children:(0,g.jsx)(C.cp,{value:{value:B.vendorId,label:B.vendor},onChange:e=>Q((l=>({...l,vendorId:e.value,vendor:e.label}))),options:[{value:"",label:"Search",isDisabled:!0},...m.map((e=>({value:null===e||void 0===e?void 0:e.Retailer_Id,label:null===e||void 0===e?void 0:e.Retailer_Name})))],styles:y.cF,isSearchable:!0,placeholder:"Select Vendor",maxMenuHeight:300})}),(0,g.jsx)(o.c,{variant:"outlined",className:"mx-2",disabled:!(0,A.Q$)(B.vendorId),onClick:()=>{return e=B.vendorId,i&&i(),V([]),H((l=>({...l,Retailer_Id:e}))),void(0,n.q)({address:"dataEntry/purchaseOrderEntry/delivery/partyBased?VendorId=".concat(e)}).then((e=>{e.success&&M(e.data)})).catch((e=>console.error(e))).finally((()=>{d&&d()}));var e},children:(0,g.jsx)(T.c,{})})]}),(0,g.jsx)(R.c,{dataArray:O,columns:[{isVisible:1,ColumnHeader:"#",isCustomCell:!0,Cell:e=>{let{row:l}=e;return(0,g.jsx)("div",{children:(0,g.jsx)("input",{className:"form-check-input shadow-none pointer",style:{padding:"0.7em"},type:"checkbox",checked:-1!==E.findIndex((e=>(0,A.Qr)(null===e||void 0===e?void 0:e.DeliveryId,null===l||void 0===l?void 0:l.Id))),onChange:()=>{-1!==E.findIndex((e=>(0,A.Qr)(null===e||void 0===e?void 0:e.DeliveryId,null===l||void 0===l?void 0:l.Id)))?Y(l,!0):Y(l)}})})}},(0,R.A)("ArrivalDate","date"),(0,R.A)("ItemName","string"),(0,R.A)("BilledRate","string"),(0,R.A)("Quantity","number"),{isVisible:1,ColumnHeader:"Weight",isCustomCell:!0,Cell:e=>{var l;let{row:t}=e;return(null!==(l=null===t||void 0===t?void 0:t.Weight)&&void 0!==l?l:0)+" "+(null===t||void 0===t?void 0:t.Units)}},(0,R.A)("PO_ID","string"),(0,R.A)("Location","string")],EnableSerialNumber:!0,disablePagination:!0,title:"Arrival Details of ".concat(B.vendor),maxHeightOption:!0})]}),(0,g.jsxs)(j,{className:"d-flex justify-content-end flex-wrap",children:[(0,g.jsx)(o.c,{onClick:()=>V([]),children:"clear all"}),(0,g.jsx)(o.c,{variant:"contained",onClick:()=>L((e=>({...e,nextStep:!0}))),disabled:0===E.length,children:"next"})]})]}),(0,g.jsxs)(f.c,{open:z.nextStep,onClose:ee,fullScreen:!0,children:[(0,g.jsx)(I.c,{children:"Create Invoice"}),(0,g.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i&&i(),(0,n.q)({address:"purchase/purchaseOrder",method:"POST",bodyData:{Product_Array:E,...G}}).then((e=>{e.success?(D.m4.success((null===e||void 0===e?void 0:e.message)||"Saved"),ee(),V([]),H(c),M([])):D.m4.error((null===e||void 0===e?void 0:e.message)||"Request Failed")})).catch((e=>console.error(e))).finally((()=>{d&&d()}))},children:[(0,g.jsxs)(N.c,{className:"table-responsive",children:[(0,g.jsxs)("div",{className:"row",children:[(0,g.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,g.jsx)("label",{children:"Vendor"}),(0,g.jsx)("input",{disabled:!0,value:null!==(l=null===m||void 0===m||null===(t=m.find((e=>(0,A.Qr)(null===e||void 0===e?void 0:e.Retailer_Id,null===G||void 0===G?void 0:G.Retailer_Id))))||void 0===t?void 0:t.Retailer_Name)&&void 0!==l?l:"Not Mapped",className:U})]}),(0,g.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,g.jsxs)("label",{children:["Branch ",(0,g.jsx)(w.c,{})]}),(0,g.jsxs)("select",{className:U,value:null===G||void 0===G?void 0:G.Branch_Id,required:!0,onChange:e=>H((l=>({...l,Branch_Id:e.target.value}))),children:[(0,g.jsx)("option",{value:"",children:"select"}),h.map(((e,l)=>(0,g.jsx)("option",{value:null===e||void 0===e?void 0:e.BranchId,children:null===e||void 0===e?void 0:e.BranchName},l)))]})]}),(0,g.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,g.jsxs)("label",{children:["Date ",(0,g.jsx)(w.c,{})]}),(0,g.jsx)("input",{value:null===G||void 0===G?void 0:G.Po_Inv_Date,type:"date",required:!0,className:U,onChange:e=>H((l=>({...l,Po_Inv_Date:e.target.value})))})]}),(0,g.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,g.jsx)("label",{children:"Ref Number"}),(0,g.jsx)("input",{value:null===G||void 0===G?void 0:G.Ref_Po_Inv_No,className:U,onChange:e=>H((l=>({...l,Ref_Po_Inv_No:e.target.value})))})]}),(0,g.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,g.jsxs)("label",{children:["GST Type ",(0,g.jsx)(w.c,{})]}),(0,g.jsxs)("select",{className:U,onChange:e=>H((l=>({...l,GST_Inclusive:Number(e.target.value)}))),value:G.GST_Inclusive,required:!0,children:[(0,g.jsx)("option",{value:1,children:"Inclusive Tax"}),(0,g.jsx)("option",{value:0,children:"Exclusive Tax"}),(0,g.jsx)("option",{value:2,children:"Not Taxable"})]})]}),(0,g.jsxs)("div",{className:"col-lg-3 col-md-4 col-sm-6 p-2",children:[(0,g.jsx)("label",{children:"Tax Type"}),(0,g.jsxs)("select",{className:U,onChange:e=>H((l=>({...l,IS_IGST:Number(e.target.value)}))),value:G.IS_IGST,children:[(0,g.jsx)("option",{value:"0",children:"GST"}),(0,g.jsx)("option",{value:"1",children:"IGST"})]})]})]}),(0,g.jsxs)("div",{className:"table-responsive",children:[(0,g.jsxs)("table",{className:"table",children:[(0,g.jsx)("thead",{children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:q,children:"SNo"}),(0,g.jsx)("td",{className:q,children:"Item"}),(0,g.jsx)("td",{className:q,children:"Rate"}),(0,g.jsx)("td",{className:q,children:"Quantity"}),(0,g.jsx)("td",{className:q,children:"Unit"}),(0,g.jsx)("td",{className:q,children:"Amount"})]})}),(0,g.jsx)("tbody",{children:E.map(((e,l)=>{var t,a;return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:q,children:l+1}),(0,g.jsx)("td",{className:q,children:null!==(t=null===(a=F(_,e.Item_Id))||void 0===a?void 0:a.Product_Name)&&void 0!==t?t:"Not found"}),(0,g.jsx)("td",{className:q,children:(0,g.jsx)("input",{value:null===e||void 0===e?void 0:e.Item_Rate,type:"number",className:U,onChange:l=>le(e,"Item_Rate",l.target.value),required:!0})}),(0,g.jsx)("td",{className:q,children:(0,g.jsx)("input",{value:null===e||void 0===e?void 0:e.Bill_Qty,type:"number",className:U,onChange:l=>le(e,"Bill_Qty",l.target.value),required:!0})}),(0,g.jsx)("td",{className:q,children:(0,g.jsxs)("select",{value:null===e||void 0===e?void 0:e.Unit_Id,className:U,onChange:l=>{const t=l.target.selectedIndex,a=l.target.options[t].text,n=l.target.value;le(e,"Unit_Id",n),le(e,"Unit_Name",a)},required:!0,children:[(0,g.jsx)("option",{value:"",children:"select"}),p.map(((e,l)=>(0,g.jsx)("option",{value:e.Unit_Id,children:e.Units},l)))]})}),(0,g.jsx)("td",{className:q,children:(0,g.jsx)("input",{value:null===e||void 0===e?void 0:e.Amount,type:"number",className:U,onChange:l=>le(e,"Amount",l.target.value),required:!0})})]},l)}))})]}),(0,g.jsx)("table",{className:"table",children:(0,g.jsxs)("tbody",{children:[(0,g.jsxs)("tr",{children:[(0,g.jsxs)("td",{className:"border p-2",rowSpan:(0,A.Qr)(G.IS_IGST,1)?4:5,children:["Total in words: ",(0,A.m4)(parseInt(J))]}),(0,g.jsx)("td",{className:"border p-2",children:"Total Taxable Amount"}),(0,g.jsx)("td",{className:"border p-2",children:(0,A.SA)(K.TotalValue)})]}),Z?(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border p-2",children:"IGST"}),(0,g.jsx)("td",{className:"border p-2",children:(0,A.SA)(K.TotalTax)})]}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border p-2",children:"CGST"}),(0,g.jsx)("td",{className:"border p-2",children:(0,A.SA)(K.TotalTax/2)})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border p-2",children:"SGST"}),(0,g.jsx)("td",{className:"border p-2",children:(0,A.SA)(K.TotalTax/2)})]})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border p-2",children:"Round Off"}),(0,g.jsx)("td",{className:"border p-2",children:(0,A.SA)(J-(K.TotalValue+K.TotalTax))})]}),(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"border p-2",children:"Total"}),(0,g.jsx)("td",{className:"border p-2",children:(0,A.SA)(J)})]})]})})]})]}),(0,g.jsxs)(S.c,{children:[(0,g.jsx)(o.c,{onClick:ee,type:"button",children:"back"}),(0,g.jsx)(o.c,{type:"submit",variant:"contained",children:"submit"})]})]})]})]})}},57704:(e,l,t)=>{t.d(l,{c:()=>r});var a=t(27664),n=t(82496);const r=(0,a.c)((0,n.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},84436:(e,l,t)=>{t.d(l,{c:()=>p});var a=t(45072),n=t(95656),r=t(69060),s=t(79736),o=t(21412),i=t(12556),d=t(49836),c=t(10099),u=t(33448);function m(e){return(0,u.cp)("MuiCardContent",e)}(0,c.c)("MuiCardContent",["root"]);var v=t(82496);const h=["className","component"],x=(0,i.cp)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,l)=>l.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),p=r.forwardRef((function(e,l){const t=(0,d.C)({props:e,name:"MuiCardContent"}),{className:r,component:i="div"}=t,c=(0,n.c)(t,h),u=(0,a.c)({},t,{component:i}),p=(e=>{const{classes:l}=e;return(0,o.c)({root:["root"]},m,l)})(u);return(0,v.jsx)(x,(0,a.c)({as:i,className:(0,s.c)(p.root,r),ownerState:u,ref:l},c))}))},43692:(e,l,t)=>{t.d(l,{c:()=>g});var a=t(45072),n=t(95656),r=t(69060),s=t(79736),o=t(21412),i=t(12556),d=t(49836),c=t(85624),u=t(10099),m=t(33448);function v(e){return(0,m.cp)("MuiCard",e)}(0,u.c)("MuiCard",["root"]);var h=t(82496);const x=["className","raised"],p=(0,i.cp)(c.c,{name:"MuiCard",slot:"Root",overridesResolver:(e,l)=>l.root})((()=>({overflow:"hidden"}))),g=r.forwardRef((function(e,l){const t=(0,d.C)({props:e,name:"MuiCard"}),{className:r,raised:i=!1}=t,c=(0,n.c)(t,x),u=(0,a.c)({},t,{raised:i}),m=(e=>{const{classes:l}=e;return(0,o.c)({root:["root"]},v,l)})(u);return(0,h.jsx)(p,(0,a.c)({className:(0,s.c)(m.root,r),elevation:i?8:void 0,ref:l,ownerState:u},c))}))}}]);
//# sourceMappingURL=5660.c3434fc0.chunk.js.map